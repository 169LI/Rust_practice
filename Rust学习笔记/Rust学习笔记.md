vscode+Rsut+\<[Rustè¯­è¨€åœ£ç»](https://course.rs/about-book.html))>+\<[Rustç¨‹åºè®¾è®¡ç¬¬äºŒç‰ˆ](https://github.com/169LI/Rust_study/blob/main/%E3%80%8ARust%20%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%EF%BC%88%E7%AC%AC2%E7%89%88%EF%BC%89%E3%80%8B%E5%90%89%E5%A7%86%E2%80%A2%E5%B8%83%E5%85%B0%E8%BF%AA%E3%80%90%E6%96%87%E5%AD%97%E7%89%88_PDF%E7%94%B5%E5%AD%90%E4%B9%A6_%E9%9B%85%E4%B9%A6%E3%80%91.pdf)>+obsidian(ç¬”è®°è½¯ä»¶)+github(ä»£ç ä»“åº“)
# obsidian+github
# æ­å»ºå¼€å‘ç¯å¢ƒ
&ensp;&ensp; &ensp;é¦–å…ˆï¼Œéœ€è¦å®‰è£…æœ€æ–°ç‰ˆçš„ Rust ç¼–è¯‘å·¥å…·å’Œ Visual Studio Code
Rust ç¼–è¯‘å·¥å…·ï¼š[å®‰è£… Rust ](https://www.rust-lang.org/zh-CN/tools/install)
Visual Studio Codeï¼š[Download Visual Studio Code - Mac, Linux, Windows](https://code.visualstudio.com/Download)

+ Rust çš„ç¼–è¯‘å·¥å…·ä¾èµ– C è¯­è¨€çš„ç¼–è¯‘å·¥å…·ï¼Œè¿™æ„å‘³ç€ä½ çš„ç”µè„‘ä¸Šè‡³å°‘å·²ç»å­˜åœ¨ä¸€ä¸ª C è¯­è¨€çš„ç¼–è¯‘ç¯å¢ƒã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Linux ç³»ç»Ÿï¼Œå¾€å¾€å·²ç»å…·å¤‡äº† GCC æˆ– clangã€‚
+ å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ macOSï¼Œéœ€è¦å®‰è£… Xcodeã€‚
+ å¦‚æœä½ æ˜¯ç”¨çš„æ˜¯ Windows æ“ä½œç³»ç»Ÿï¼Œä½ éœ€è¦å®‰è£… Visual Studio 2013 æˆ–ä»¥ä¸Šçš„ç¯å¢ƒï¼ˆéœ€è¦ C/C++ æ”¯æŒï¼‰ä»¥ä½¿ç”¨ MSVC æˆ–å®‰è£… MinGW + GCC ç¼–è¯‘ç¯å¢ƒ 

## 1 ä¹‹å‰ä¸‹è½½è¿‡vs2022 
&ensp;&ensp; &ensp;ï¼ˆæ²¡ä¸‹è¿‡ä¹Ÿä¸å»ºè®®ä½ ä¸‹äº†     è¿˜ä¸å¦‚å¼€è™šæ‹Ÿæœºç”¨linuxç³»ç»Ÿ    æˆ–è€…ç”¨MinGW   vs2022æœ‰ç‚¹å¤§ï¼‰
![|450](image/Pasted_image_20241105202526.png)

## 2 rustÂ ç¼–è¯‘å·¥å…·
&ensp;  &ensp;å®˜æ–¹ä¸‹è½½åœ°å€:Â [rust](https://www.rust-lang.org/learn/get-started)Â Â é€‰æ‹©64bitï¼Œä¸‹è½½åçš„æ–‡ä»¶åä¸ºrustup-init.exe

![|475](image/Pasted_image_20241105202801.png)

## 3 è¿è¡Œrustup-init.exe

![|450](image/Pasted_image_20241105203307.png)

&ensp;&ensp; &ensp;ä¸Šå›¾æ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå®‰è£…å‘å¯¼ã€‚

&ensp;&ensp; &ensp;å¦‚æœä½ å·²ç»å®‰è£… MSVC ï¼ˆæ¨èï¼‰ï¼Œé‚£ä¹ˆå®‰è£…è¿‡ç¨‹ä¼šéå¸¸çš„ç®€å•ï¼Œè¾“å…¥ 1 å¹¶å›è½¦ï¼Œç›´æ¥è¿›å…¥ç¬¬äºŒæ­¥ã€‚

![|475](image/Pasted_image_20241105203332.png)

&ensp;&ensp; &ensp;æ²¡æœ‰å®‰è£…MSVCæˆ–è€…åç»­å‡†å¤‡ä½¿ç”¨GNUå¾—å¤„ç†æ–¹æ³•ï¼ˆ åé¢å¯èƒ½ä¼šä½¿ç”¨GNU,å¯èƒ½è¿˜å¾—å¼„ï¼‰

&ensp;&ensp; &ensp;å¦‚æœä½ å®‰è£…çš„æ˜¯ MinGWï¼Œé‚£ä¹ˆä½ éœ€è¦è¾“å…¥ 2 ï¼ˆè‡ªå®šä¹‰å®‰è£…ï¼‰ï¼Œç„¶åç³»ç»Ÿä¼šè¯¢é—®ä½  Default host triple? è¯·å°†ä¸Šå›¾ä¸­ default host triple çš„ "msvc" æ”¹ä¸º "gnu" å†è¾“å…¥å®‰è£…ç¨‹åºã€‚

![|450](image/Pasted_image_20241105203348.png)

&ensp;&ensp; &ensp;è®¾ç½®å®Œæ‰€æœ‰é€‰é¡¹ï¼Œä¼šå›åˆ°å®‰è£…å‘å¯¼ç•Œé¢ï¼ˆç¬¬ä¸€å¼ å›¾ï¼‰ï¼Œè¿™æ˜¯æˆ‘ä»¬è¾“å…¥ 1 å¹¶å›è½¦å³å¯ã€‚
## 4 æµ‹è¯•

`rustc -VÂ Â Â Â Â Â Â  # æ³¨æ„çš„å¤§å†™çš„ V`

![|550](image/Pasted_image_20241105203418.png)
&ensp;&ensp; &ensp;ç¯å¢ƒæˆåŠŸé…ç½®

## 5 Visual Studio Code å¼€å‘ç¯å¢ƒ
&ensp; analyzer å’Œ Native Debug ä¸¤ä¸ªæ‰©å±•Â Â  ä¹‹åé‡å¯Â  é€‰æ‹©ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹

![|332](image/Pasted_image_20241105203442.png)

![|320](image/Pasted_image_20241105203450.png)

 é€‰æ‹©èœå•æ ä¸­çš„"ç»ˆç«¯"-"æ–°å»ºç»ˆç«¯"ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯å¹¶è¾“å…¥å‘½ä»¤ï¼š
```
 åˆ›å»ºæ–°é¡¹ç›®ï¼šcargo new <é¡¹ç›®å>

 æ„å»ºé¡¹ç›®ï¼šcargo build

 è¿è¡Œé¡¹ç›®ï¼šcargo run

 æµ‹è¯•é¡¹ç›®ï¼šcargo test
```

cargo new greeting  ä¼šè‡ªåŠ¨æ„å»ºä¸€ä¸ªåå« greeting çš„ Rust å·¥ç¨‹ç›®å½•ã€‚ç°åœ¨åœ¨ç»ˆç«¯é‡Œè¾“å…¥ä»¥ä¸‹ä¸‰ä¸ªå‘½ä»¤ï¼š
```
cd ./greeting
cargo build
cargo run
```
![|550](image/Pasted_image_20241105203519.png)
æˆåŠŸçš„æ„å»ºäº†ä¸€ä¸ª Rust å‘½ä»¤è¡Œç¨‹åºï¼
## 6 è°ƒè¯•ï¼ˆdebugï¼‰
&ensp;&ensp; &ensp;è‡ªå¸¦çš„é‚£ä¸ªæ˜¯çœŸä¸å¥½ç”¨Â Â Â Â  è‡ªå·±é…çš„è¿™ä¸ªä¹Ÿæ²¡å¥½åˆ°å“ªé‡Œï¼Â  Ruståé¢ä¼šè°ƒè¯•åº”è¯¥å¯èƒ½å¯ä»¥å­¦å¿«ç‚¹ï¼Œæˆ‘ä¹Ÿä¸æ¸…æ¥šï¼ˆå­¦c++ä¸ä¼šè°ƒè¯•ç›´æ¥å‡‰ä¸€åŠï¼‰

![|575](image/Pasted_image_20241105203553.png)

![|575](image/Pasted_image_20241105203605.png)

&ensp;&ensp; &ensp;ç›´æ¥ç²˜è´´ä¸‹é¢çš„å†…å®¹å°±okäº†

```
{
Â  Â  //è°ƒè¯•å“ªä¸€ä¸ªå°±å¤åˆ¶åˆ°å“ªä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹
Â  Â  
Â  Â  // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚
Â  Â  // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚
Â  Â  // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387
Â  Â  "version": "0.2.0",
Â  Â  "configurations": [
Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  "name": "(Windows) å¯åŠ¨",
Â  Â  Â  Â  Â  Â  "type": "cppvsdbg",
Â  Â  Â  Â  Â  Â  "request": "launch",
Â  Â  Â  Â  Â  Â  "program": "${workspaceFolder}/target/debug/${workspaceFolderBasename}.exe",
Â  Â  Â  Â  Â  Â  "args": [],
Â  Â  Â  Â  Â  Â  "stopAtEntry": false,
Â  Â  Â  Â  Â  Â  "cwd": "${fileDirname}",
Â  Â  Â  Â  Â  Â  "environment": [],
Â  Â  Â  Â  Â  Â  "console": "internalConsole"
Â  Â  Â  Â  }
Â  Â  ]
}
```
## 7 å¸è½½
&ensp;&ensp; &ensp;è¦å¸è½½ Rust å’Œ rustupï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯å¸è½½ï¼š

&ensp;&ensp; &ensp;`rustup self uninstallï¼ˆå»ºè®®ä¸è¦è¯•ï¼‰`

## 8 æœ¬åœ°æ–‡æ¡£

&ensp;&ensp; &ensp;å®‰è£… Rust çš„åŒæ—¶ä¹Ÿä¼šåœ¨æœ¬åœ°å®‰è£…ä¸€ä¸ªæ–‡æ¡£æœåŠ¡ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç¦»çº¿é˜…è¯»ï¼šè¿è¡Œä¸‹é¢å‘½ä»¤
```
Â rustup doc
Â cargo doc --help
```
&ensp;&ensp; &ensp;Â ç”¨æµè§ˆå™¨æ‰“å¼€æœ¬åœ°æ–‡æ¡£å³å¯æŸ¥çœ‹

&ensp;&ensp; &ensp;ç¼–ç¨‹è¯­è¨€çš„å­¦ä¹ å°½å¤´ä»ä¸æ˜¯ä¹¦ç±å’Œè§†é¢‘æ•™å­¦ä¸­è·å–çš„çŸ¥è¯†è€Œæ˜¯èƒ½çœ‹æ‡‚æ‡‚å®˜æ–¹æ–‡æ¡£çš„èƒ½åŠ›

## 9  .gitignoreæ–‡ä»¶
Â &ensp;&ensp; &ensp;å¦‚æœæœ‰ä¸Šä¼ githubéœ€æ±‚Â  å»ºè®®åŠ ä¸€ä¸ª.gitignoreæ–‡ä»¶Â  æŠŠä¸æƒ³ä¸Šä¼ çš„æ–‡ä»¶å†™è¿›å»ã€‚ä»–çš„targetæ–‡ä»¶å¤¹ï¼ˆç¼–è¯‘çš„æ–‡ä»¶éƒ½åœ¨é‡Œé¢æ”¾ï¼‰ä¸€è¿è¡Œå°±æ˜¾ç¤ºçº¢è‰²æç¤ºæˆ‘ä¸Šä¼  Â  çœŸçš„å¾ˆçƒ¦ã€‚
```
target
.gitignore
```
# ä¸€. æ•°æ®ç±»å‹
&ensp;&ensp; &ensp;æœ¬ç« ä»ç®€å•çš„æ•°å€¼ç±»å‹ï¼ˆå¦‚æ•´æ•°å’Œæµ®ç‚¹å€¼ï¼‰å¼€å§‹ï¼Œåé¢è½¬è€Œä»‹ç»åŒ…å«æ›´å¤šæ•°æ®çš„ç±»å‹ï¼šBoxã€å…ƒç»„ï¼ˆtupleï¼‰ã€æ•°ç»„å’Œå­—ç¬¦ä¸²ã€‚

>&ensp;&ensp; &ensp;**å›ºå®šæ•°å€¼ç±»å‹ï¼ˆæ•´å‹+æµ®ç‚¹å‹ï¼‰**
 >
 &ensp;&ensp; &ensp;Rust ä¸­æ•°å€¼ç±»å‹çš„åç§°éƒ½éµå¾ªç€ä¸€ç§ç»Ÿä¸€çš„æ¨¡å¼ï¼Œç±»å‹å®šä¹‰çš„å½¢å¼ç»Ÿä¸€ä¸ºï¼šæœ‰æ— ç¬¦å· + ç±»å‹å¤§å°(ä½æ•°)ã€‚
![|475](image/Pasted_image_20241105203720.png)
 æœºå™¨å­—æ˜¯ä¸€ä¸ªå€¼ï¼Œå…¶å¤§å°ç­‰äºè¿è¡Œæ­¤ä»£ç çš„æœºå™¨ä¸Šâ€œåœ°å€â€çš„å¤§å°ï¼Œå¯èƒ½æ˜¯ 32 ä½ï¼Œä¹Ÿå¯èƒ½æ˜¯ 64 ä½ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œ12.0 å°†è¡¨ç¤º 64 ä½æµ®ç‚¹æ•° 12è¡¨ç¤ºæœ‰ç¬¦å·32ä½æ•´æ•°ã€‚

&ensp;&ensp;&ensp;`let x = -10.abs(); // é”™è¯¯`

&ensp;&ensp;&ensp;æ–¹æ³•è°ƒç”¨çš„ä¼˜å…ˆçº§é«˜äºå‰ç¼€è¿ç®—ç¬¦ï¼Œå› æ­¤åœ¨å¯¹è´Ÿå€¼è¿›è¡Œæ–¹æ³•è°ƒç”¨æ—¶ï¼Œè¯·åŠ¡å¿…æ­£ç¡®åœ°åŠ ä¸Šåœ†æ‹¬å·ã€‚

&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;<font color="#2DC26B">è¿›å…¥æ­£é¢˜ï¼šå¼€å§‹Rust!!!</font>

## 1.1 æ•´å‹ï¼ˆIntegerï¼‰
&ensp;&ensp; &ensp;æ•´æ•°å‹ç®€ç§°æ•´å‹ï¼ŒæŒ‰ç…§æ¯”ç‰¹ä½é•¿åº¦å’Œæœ‰æ— ç¬¦å·åˆ†ä¸ºä»¥ä¸‹ç§ç±»
![|600](image/Pasted_image_20241105203729.png)
&ensp;&ensp; &ensp;ä¸ºäº†è®©é•¿æ•°å€¼æ›´æ˜“è¯»ï¼Œå¯ä»¥åœ¨æ•°å­—ä¹‹é—´ä»»æ„æ’å…¥ä¸‹åˆ’çº¿ã€‚
  ![|600](image/Pasted_image_20241105203854.png)
### 1.1.1 æ•´å‹æº¢å‡º
&ensp;&ensp; &ensp;å‡è®¾æœ‰ä¸€ä¸ªÂ u8Â ï¼Œå®ƒå¯ä»¥å­˜æ”¾ä» 0 åˆ° 255 çš„å€¼ã€‚é‚£ä¹ˆå½“ä½ å°†å…¶ä¿®æ”¹ä¸ºèŒƒå›´ä¹‹å¤–çš„å€¼ï¼Œæ¯”å¦‚ 256ï¼Œåˆ™ä¼šå‘ç”Ÿæ•´å‹æº¢å‡ºã€‚

&ensp;&ensp; &ensp;Rust ä¼šæ£€æŸ¥æ•´å‹æº¢å‡ºï¼Œè‹¥å­˜åœ¨è¿™äº›é—®é¢˜ï¼Œåˆ™ä½¿ç¨‹åºåœ¨ç¼–è¯‘æ—¶ panic(å´©æºƒ,Rust ä½¿ç”¨è¿™ä¸ªæœ¯è¯­æ¥è¡¨æ˜ç¨‹åºå› é”™è¯¯è€Œé€€å‡º)ã€‚åœ¨å½“ä½¿ç”¨release å‚æ•°è¿›è¡Œ release æ¨¡å¼æ„å»ºæ—¶ï¼ŒRust ä¸æ£€æµ‹æº¢å‡ºã€‚ç›¸åï¼Œå½“æ£€æµ‹åˆ°æ•´å‹æº¢å‡ºæ—¶ï¼ŒRust ä¼šæŒ‰ç…§è¡¥ç **å¾ªç¯æº¢å‡º**ï¼ˆtwoâ€™s complement wrappingï¼‰çš„è§„åˆ™å¤„ç†ã€‚ç¨‹åºä¸ä¼š panicï¼Œä½†æ˜¯è¯¥å˜é‡çš„å€¼å¯èƒ½ä¸æ˜¯ä½ æœŸæœ›çš„å€¼ã€‚ä¾èµ–è¿™ç§é»˜è®¤è¡Œä¸ºçš„ä»£ç éƒ½åº”è¯¥è¢«è®¤ä¸ºæ˜¯é”™è¯¯çš„ä»£ç ã€‚
### 1.1.2 æº¢å‡ºçš„å¤„ç†
&ensp;&ensp; &ensp;è¦æ˜¾å¼å¤„ç†å¯èƒ½çš„æº¢å‡ºï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†åº“é’ˆå¯¹åŸå§‹æ•°å­—ç±»å‹æä¾›çš„è¿™äº›æ–¹æ³•ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å‡ ä¸ª:
1. åŠ æ³•
-  wrapping_add: å¾ªç¯åŠ æ³•ã€‚
- checked_add: æº¢å‡ºæ—¶è¿”å› Noneã€‚
- overflowing_add: è¿”å›ç»“æœå’Œæº¢å‡ºæŒ‡ç¤ºå¸ƒå°”å€¼ã€‚
- saturating_add: è¶…è¿‡æœ€å¤§å€¼æ—¶è¿”å›æœ€å¤§å€¼ã€‚

```
   fn main() {
    // åŠ æ³• (Addition)
    println!("åŠ æ³•ç¤ºä¾‹:");

    let wrapping_add_result = u8::MAX.wrapping_add(1);
    println!("wrapping_add: {}", wrapping_add_result); // ç»“æœæ˜¯ 0

    let checked_add_result = u8::MAX.checked_add(1);
    println!("checked_add: {:?}", checked_add_result); // è¿”å› None

    let (overflowing_add_result, overflowing_add_overflowed) = u8::MAX.overflowing_add(1);
    println!("overflowing_add: result = {}, overflowed = {}", overflowing_add_result, overflowing_add_overflowed); // result = 0, overflowed = true

    let saturating_add_result = u8::MAX.saturating_add(1);
    println!("saturating_add: {}", saturating_add_result); // ç»“æœæ˜¯ 255
    }
```
2. å‡æ³•
- wrapping_mul: å¾ªç¯ä¹˜æ³•ã€‚
- checked_mul: å¦‚æœå‘ç”Ÿæº¢å‡ºè¿”å› Noneã€‚
- overflowing_mul: è¿”å›è®¡ç®—ç»“æœå’Œæ˜¯å¦æº¢å‡ºçš„å¸ƒå°”å€¼ã€‚
- saturating_mul: ç»“æœä¸ä¼šè¶…è¿‡æœ€å¤§å€¼ã€‚
```
fn main(){
 // å‡æ³• (Subtraction)
    println!("\nå‡æ³•ç¤ºä¾‹:");

    let wrapping_sub_result = u8::MIN.wrapping_sub(1);
    println!("wrapping_sub: {}", wrapping_sub_result); // ç»“æœæ˜¯ 255

    let checked_sub_result = u8::MIN.checked_sub(1);
    println!("checked_sub: {:?}", checked_sub_result); // è¿”å› None

    let (overflowing_sub_result, overflowing_sub_overflowed) = u8::MIN.overflowing_sub(1);
    println!("overflowing_sub: result = {}, overflowed = {}", overflowing_sub_result, overflowing_sub_overflowed); // result = 255, overflowed = true

    let saturating_sub_result = u8::MIN.saturating_sub(1);
    println!("saturating_sub: {}", saturating_sub_result); // ç»“æœæ˜¯ 0
}
```

3. ä¹˜æ³•
- wrapping_mul: å¾ªç¯ä¹˜æ³•ã€‚
- checked_mul: å¦‚æœå‘ç”Ÿæº¢å‡ºè¿”å› Noneã€‚
- overflowing_mul: è¿”å›è®¡ç®—ç»“æœå’Œæ˜¯å¦æº¢å‡ºçš„å¸ƒå°”å€¼ã€‚
- saturating_mul: ç»“æœä¸ä¼šè¶…è¿‡æœ€å¤§å€¼ã€‚
```
fn main(){
// ä¹˜æ³• (Multiplication)
    println!("\nä¹˜æ³•ç¤ºä¾‹:");

    let wrapping_mul_result = u8::MAX.wrapping_mul(2);
    println!("wrapping_mul: {}", wrapping_mul_result); // ç»“æœæ˜¯ 254

    let checked_mul_result = u8::MAX.checked_mul(2);
    println!("checked_mul: {:?}", checked_mul_result); // è¿”å› None

    let (overflowing_mul_result, overflowing_mul_overflowed) = u8::MAX.overflowing_mul(2);
    println!("overflowing_mul: result = {}, overflowed = {}", overflowing_mul_result, overflowing_mul_overflowed); // result = 254, overflowed = true

    let saturating_mul_result = u8::MAX.saturating_mul(2);
    println!("saturating_mul: {}", saturating_mul_result); // ç»“æœæ˜¯ 255
}
```

&ensp;&ensp;&ensp;è¿˜æœ‰é™¤æ³• ã€ç§»ä½ç½®ç­‰æ“ä½œçš„æº¢å‡ºåˆ¤æ–­ï¼Œè¿™é‡Œä¸åœ¨æ¼”ç¤ºã€‚å¯ä»¥çœ‹åˆ°å…³äºå›ç»•é™¤æ³•çš„è¿™äº›æ–¹æ³•è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä½†ä¸»è¦åŒºåˆ«è¿˜æ˜¯åœ¨æ•°æ®ç±»å‹ï¼š

![](image/{{æ•°æ®ç±»å‹}}-20241107.png)

&ensp;&ensp;&ensp;å¯ä»¥æ¥çœ‹ä¸€ä¸‹åŸæ–‡æ¡£é‡Œé¢æ˜¯æ€æœ«è¯´çš„(é™¤æ³•ä¸ºä¾‹ï¼Œè¿™é‡Œé€‰ç”¨i8ä½œä¸ºä¸¾ä¾‹)ï¼š

![](image/{{æ•°æ®ç±»å‹}}-20241107-2.png)

&ensp;&ensp; &ensp;åœ¨ Rust ä¸­ï¼Œ`i8` ç±»å‹çš„æ•´æ•°èŒƒå›´æ˜¯ -128 åˆ° 127ã€‚å½“ -128 è¢« -1 é™¤æ—¶ï¼Œç»“æœåº”è¯¥æ˜¯ 128ï¼Œä½†è¿™ä¼šå¯¼è‡´æº¢å‡ºï¼Œå› ä¸º 128 è¶…å‡ºäº† `i8` çš„è¡¨ç¤ºèŒƒå›´ã€‚ä½¿ç”¨ `wrapping_div`ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šè¿”å› -128ï¼Œå› ä¸ºæº¢å‡ºä¼šæŒ‰æ¨¡ 256 è¿›è¡Œç¯ç»•ã€‚

&ensp;&ensp;&ensp;æ¯ç§è¿ç®—éƒ½æœ‰ä¸åŒçš„å¤„ç†æ–¹å¼ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©é€‚åˆçš„æ–¹æ³•æ¥å¤„ç†æº¢å‡ºå’Œè¾¹ç•Œæƒ…å†µ.

|      |      |                                       |     |
| ---- | ---- | ------------------------------------- | --- |
| è¿ç®—   | åç§°åç¼€ | ä¾‹å­                                    |     |
| åŠ æ³•   | add  | 100_i8.checked_add(27) == Some(127)   |     |
| å‡æ³•   | sub  | 10_u8.checked_sub(11) == None         |     |
| ä¹˜æ³•   | mul  | 128_u8.saturating_mul(3) == 255       |     |
| é™¤æ³•   | div  | 64_u16.wrapping_div(8) == 8           |     |
| æ±‚ä½™   | rem  | (-32768_i16).wrapping_rem(-1) == 0    |     |
| å–è´Ÿ   | neg  | (-128_i8).checked_neg() == None       |     |
| ç»å¯¹å€¼  | abs  | (-32768_i16).wrapping_abs() == -32768 |     |
| æ±‚å¹‚   | pow  | 3_u8.checked_pow(4) == Some(81)       |     |
| æŒ‰ä½å·¦ç§» | shl  | 10_u32.wrapping_shl(34) == 40         |     |
| æŒ‰ä½å³ç§» | shr  | 40_u64.wrapping_shr(66) == 10         |     |


### 1.1.3 æ•°å­—è¿ç®—

&ensp;&ensp;&ensp;ä¸Šé¢æåˆ°äº†åŸºæœ¬è¿ç®—ä¸‹é¢ç®€å•çš„æ¥ä»‹ç»ä¸€ä¸‹æ•°å­—è¿ç®—ã€‚Rust æ”¯æŒæ‰€æœ‰æ•°å­—ç±»å‹çš„åŸºæœ¬æ•°å­¦è¿ç®—ï¼šåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å’Œæ±‚æ¨¡è¿ç®—ã€‚
```
fn main() {
    // åŠ æ³•
    let sum = 5 + 10;
    // å‡æ³•
    let difference = 95.5 - 4.3;
    // ä¹˜æ³•
    let product = 4 * 30;
    // é™¤æ³•
    let quotient = 56.7 / 32.2;
    // æ±‚æ¨¡
    let remainder = 43 % 5;       
}
```
&ensp;&ensp;&ensp;è®¸å¤šè¿ç®—ç¬¦å·ä¹‹ååŠ ä¸Š = å·æ˜¯è‡ªè¿ç®—çš„æ„æ€ï¼Œä¾‹å¦‚ï¼šsum += 1Â ç­‰åŒäºÂ sum = sum + 1ã€‚ï¼ˆæ¶‰åŠ**æ‰€æœ‰æƒé—®é¢˜éœ€æ³¨æ„**ï¼‰<span style="color:red">ï¼ˆåé¢é‡åˆ°ä»£ç è¿™é‡Œå†è¡¥å……ï¼‰</span>


&ensp;&ensp;&ensp;**æ³¨æ„**ï¼šRust **ä¸æ”¯æŒÂ ++Â å’ŒÂ --**ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªè¿ç®—ç¬¦å‡ºç°åœ¨å˜é‡çš„å‰åä¼šå½±å“ä»£ç å¯è¯»æ€§ï¼Œå‡å¼±äº†å¼€å‘è€…å¯¹å˜é‡æ”¹å˜çš„æ„è¯†èƒ½åŠ›ã€‚

### 1.1.4 ä½è¿ç®—


&ensp;&ensp;&ensp;Rust çš„ä½è¿ç®—åŸºæœ¬ä¸Šå’Œå…¶ä»–è¯­è¨€ä¸€æ ·ã€‚

|                   |                              |
| ----------------- | ---------------------------- |
| è¿ç®—ç¬¦               | è¯´æ˜                           |
| & ä½ä¸ ï¼ˆæ³¨æ„ä¸& å¼•ç”¨ç›¸åŒºåˆ†ï¼‰ | ç›¸åŒä½ç½®å‡ä¸º1æ—¶åˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0             |
| \| ä½æˆ–             | ç›¸åŒä½ç½®åªè¦æœ‰1æ—¶åˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0            |
| ^ å¼‚æˆ–              | ç›¸åŒä½ç½®ä¸ç›¸åŒåˆ™ä¸º1ï¼Œç›¸åŒåˆ™ä¸º0             |
| ! ä½é              | æŠŠä½ä¸­çš„0å’Œ1ç›¸äº’å–åï¼Œå³0ç½®ä¸º1ï¼Œ1ç½®ä¸º0       |
| << å·¦ç§»             | æ‰€æœ‰ä½å‘å·¦ç§»åŠ¨æŒ‡å®šä½æ•°ï¼Œå³ä½è¡¥0             |
| >> å³ç§»             | æ‰€æœ‰ä½å‘å³ç§»åŠ¨æŒ‡å®šä½æ•°ï¼Œå¸¦ç¬¦å·ç§»åŠ¨ï¼ˆæ­£æ•°è¡¥0ï¼Œè´Ÿæ•°è¡¥1ï¼‰ |
```
fn main() {
	// æ— ç¬¦å·8ä½æ•´æ•°ï¼ŒäºŒè¿›åˆ¶ä¸º00000010
	let a: u8 = 2; // ä¹Ÿå¯ä»¥å†™ let a: u8 = 0b_0000_0010;// äºŒè¿›åˆ¶ä¸º00000011
	let b: u8 = 3;
	// {:08b}ï¼šå·¦é«˜å³ä½è¾“å‡ºäºŒè¿›åˆ¶01ï¼Œä¸è¶³8ä½åˆ™é«˜ä½è¡¥0
	println!("a value is        {:08b}", a);
	println!("b value is        {:08b}", b);
	println!("(a & b) value is  {:08b}", a & b);
	println!("(a | b) value is  {:08b}", a | b);
	println!("(a ^ b) value is  {:08b}", a ^ b);
	println!("(!b) value is     {:08b}", !b);
	println!("(a << b) value is {:08b}", a << b);
	println!("(a >> b) value is {:08b}", a >> b);
	let mut a = a;
	// æ³¨æ„è¿™äº›è®¡ç®—ç¬¦é™¤äº†!ä¹‹å¤–éƒ½å¯ä»¥åŠ ä¸Š=è¿›è¡Œèµ‹å€¼ (å› ä¸º!=è¦ç”¨æ¥åˆ¤æ–­ä¸ç­‰äº)
	a <<= b;
	println!("(a << b) value is {:08b}", a);
}
```

## 1.2 æµ®ç‚¹æ•°å‹ï¼ˆFloating-Pointï¼‰

&ensp;&ensp;&ensp;Rust æä¾›äº† IEEE å•ç²¾åº¦æµ®ç‚¹ç±»å‹å’Œ IEEE åŒç²¾åº¦æµ®ç‚¹ç±»å‹ã€‚è¿™äº›ç±»å‹åŒ…æ‹¬**æ­£æ— ç©·å¤§å’Œè´Ÿæ— ç©·å¤§ã€ä¸åŒçš„æ­£é›¶å€¼å’Œè´Ÿé›¶å€¼ï¼Œä»¥åŠéæ•°å€¼**ã€‚

&ensp;&ensp;&ensp;æµ®ç‚¹ç±»å‹æ•°å­—æ˜¯**å¸¦æœ‰å°æ•°ç‚¹**çš„æ•°å­—ï¼Œåœ¨ Rust ä¸­æµ®ç‚¹ç±»å‹æ•°å­—ä¹Ÿæœ‰ä¸¤ç§åŸºæœ¬ç±»å‹ï¼š f32 å’Œ f64ï¼Œåˆ†åˆ«ä¸º 32 ä½å’Œ 64 ä½å¤§å°ã€‚**é»˜è®¤æµ®ç‚¹ç±»å‹æ˜¯ f64**ï¼Œåœ¨ç°ä»£çš„ CPU ä¸­å®ƒçš„é€Ÿåº¦ä¸ f32 å‡ ä¹ç›¸åŒï¼Œä½†ç²¾åº¦æ›´é«˜ã€‚

```
fn main() {
    // f32 ç±»å‹çš„ç‰¹æ®Šå€¼
    let f32_infinity = f32::INFINITY;           // æ­£æ— ç©·å¤§
    let f32_neg_infinity = f32::NEG_INFINITY;   // è´Ÿæ— ç©·å¤§
    let f32_nan = f32::NAN;                      // éæ•°å€¼
    let f32_min = f32::MIN;                      // æœ€å°æœ‰é™å€¼
    let f32_max = f32::MAX;                      // æœ€å¤§æœ‰é™å€¼
    println!("f32: INFINITY = {}, NEG_INFINITY = {}, NAN = {}, MIN = {}, MAX = {}", f32_infinity, f32_neg_infinity, f32_nan, f32_min, f32_max);
    // f64 ç±»å‹çš„ç‰¹æ®Šå€¼
    let f64_infinity = f64::INFINITY;           // æ­£æ— ç©·å¤§
    let f64_neg_infinity = f64::NEG_INFINITY;   // è´Ÿæ— ç©·å¤§
    let f64_nan = f64::NAN;                      // éæ•°å€¼
    let f64_min = f64::MIN;                      // æœ€å°æœ‰é™å€¼
    let f64_max = f64::MAX;                      // æœ€å¤§æœ‰é™å€¼
    println!("f64: INFINITY = {}, NEG_INFINITY = {}, NAN = {}, MIN = {}, MAX = {}",f64_infinity, f64_neg_infinity, f64_nan, f64_min, f64_max);
}
```

### 1.2.1 NaN

&ensp;&ensp;&ensp;å¯¹äº**æ•°å­¦ä¸Šæœªå®šä¹‰**çš„ç»“æœï¼Œä¾‹å¦‚å¯¹è´Ÿæ•°å–å¹³æ–¹æ ¹ä¼šäº§ç”Ÿä¸€ä¸ªç‰¹æ®Šçš„ç»“æœï¼šRust çš„æµ®ç‚¹æ•°ç±»å‹ä½¿ç”¨Â NaNÂ (not a number) æ¥å¤„ç†è¿™äº›æƒ…å†µ.å‡ºäºé˜²å¾¡æ€§ç¼–ç¨‹çš„è€ƒè™‘ï¼Œå¯ä»¥ä½¿ç”¨ is_nan() ç­‰æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦æ˜¯ NaN ï¼š

```
fn main() {
    let x = (-42.0_f32).sqrt();
    if x.is_nan() {
        println!("æœªå®šä¹‰çš„æ•°å­¦è¡Œä¸º")
    }
}
```

### 1.2.2 æµ®ç‚¹æ•°é™·é˜±

1. æµ®ç‚¹æ•°å¾€å¾€æ˜¯ä½ æƒ³è¦æ•°å­—çš„è¿‘ä¼¼è¡¨è¾¾
æµ®ç‚¹æ•°ç±»å‹æ˜¯åŸºäºäºŒè¿›åˆ¶å®ç°çš„ï¼Œå­¦è¿‡è®¡ç»„åº”è¯¥çŸ¥é“è¿™é‡Œçš„é—®é¢˜äº†ã€‚ä¾‹å¦‚ 0.1 åœ¨äºŒè¿›åˆ¶ä¸Šå¹¶ä¸å­˜åœ¨ç²¾ç¡®çš„è¡¨è¾¾å½¢å¼ï¼Œä½†æ˜¯åœ¨åè¿›åˆ¶ä¸Šå°±å­˜åœ¨ã€‚

2. æµ®ç‚¹æ•°åœ¨æŸäº›ç‰¹æ€§ä¸Šæ˜¯åç›´è§‰çš„

&ensp;&ensp; &ensp;ä¾‹å¦‚å¤§å®¶éƒ½ä¼šè§‰å¾—æµ®ç‚¹æ•°å¯ä»¥è¿›è¡Œæ¯”è¾ƒï¼Œå¯¹å§ï¼Ÿ

&ensp;&ensp; &ensp;æ˜¯çš„ï¼Œå®ƒä»¬ç¡®å®å¯ä»¥ä½¿ç”¨ >ï¼Œ>= ç­‰è¿›è¡Œæ¯”è¾ƒï¼Œf32 ï¼Œ f64 ä¸Šçš„æ¯”è¾ƒè¿ç®—å®ç°çš„æ˜¯std::cmp::PartialEq ç‰¹å¾ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®ç° std::cmp::Eq ç‰¹å¾ã€‚æ„Ÿå…´è¶£è‡ªå·±å¯ä»¥æŸ¥ä¸€ä¸‹è¿™ä¸¤ä¸ªç‰¹å¾æ˜¯ä»€ä¹ˆã€‚

&ensp;&ensp;&ensp;ä¸ºäº†é¿å…ä¸Šé¢è¯´çš„ä¸¤ä¸ªé™·é˜±ï¼Œä½ éœ€è¦**éµå®ˆä»¥ä¸‹å‡†åˆ™**ï¼š

- é¿å…åœ¨æµ®ç‚¹æ•°ä¸Šæµ‹è¯•ç›¸ç­‰æ€§;
- å½“ç»“æœåœ¨æ•°å­¦ä¸Šå¯èƒ½å­˜åœ¨æœªå®šä¹‰æ—¶ï¼Œéœ€è¦æ ¼å¤–çš„å°å¿ƒã€‚
```
fn main() {
    let abc: (f32, f32, f32) = (0.1, 0.2, 0.3);
    let xyz: (f64, f64, f64) = (0.1, 0.2, 0.3);

    println!("abc (f32)");
    println!("   0.1 + 0.2: {:x}", (abc.0 + abc.1).to_bits());
    println!("         0.3: {:x}", (abc.2).to_bits());
    println!();

    println!("xyz (f64)");
    println!("   0.1 + 0.2: {:x}", (xyz.0 + xyz.1).to_bits());
    println!("         0.3: {:x}", (xyz.2).to_bits());
    println!();

    assert!(abc.0 + abc.1 == abc.2);
    assert!(xyz.0 + xyz.1 == xyz.2);
}
```
![|549](image/Pasted_image_20241106164418.png)

&ensp;&ensp; &ensp;å¯¹ f32 ç±»å‹åšåŠ æ³•æ—¶ï¼Œ0.1 + 0.2 çš„ç»“æœæ˜¯ 3e99999aï¼Œ0.3 ä¹Ÿæ˜¯ 3e99999aï¼Œå› æ­¤ f32 ä¸‹çš„ 0.1 + 0.2 == 0.3 é€šè¿‡æµ‹è¯•ã€‚

&ensp;&ensp; &ensp;åœ¨f64 ç±»å‹æ—¶ï¼Œç»“æœå°±ä¸ä¸€æ ·äº†ï¼Œå› ä¸º f64 ç²¾åº¦é«˜å¾ˆå¤šï¼Œå› æ­¤åœ¨å°æ•°ç‚¹éå¸¸åé¢å‘ç”Ÿäº†ä¸€ç‚¹å¾®å°çš„å˜åŒ–ï¼Œ0.1 + 0.2 ä»¥ 4 ç»“å°¾ï¼Œä½†æ˜¯ 0.3 ä»¥3ç»“å°¾ï¼Œè¿™ä¸ªç»†å¾®åŒºåˆ«å¯¼è‡´ f64 ä¸‹çš„æµ‹è¯•å¤±è´¥äº†ï¼Œå¹¶ä¸”æŠ›å‡ºäº†å¼‚å¸¸ã€‚

### 1.2.3 As å®Œæˆç±»å‹è½¬æ¢

&ensp;&ensp; &ensp;**Rust å‡ ä¹ä¸ä¼šæ‰§è¡Œä»»ä½•éšå¼çš„æ•°å€¼è½¬æ¢**ã€‚å¦‚æœå‡½æ•°éœ€è¦ f64å‚æ•°ï¼Œé‚£ä¹ˆä¼ å…¥ i32 å‹å‚æ•°æ˜¯é”™è¯¯çš„ã€‚äº‹å®ä¸Šï¼ŒRust ç”šè‡³ä¸ä¼šéšå¼åœ°å°† i16 å€¼è½¬æ¢ä¸º i32 å€¼ï¼Œè™½ç„¶æ¯ä¸ª i16 å€¼éƒ½å¿…ç„¶åœ¨ i32 èŒƒå›´å†…ã€‚

ä¸è¿‡ï¼Œä½ éšæ—¶å¯ä»¥ç”¨ as è¿ç®—ç¬¦å†™å‡ºæ˜¾å¼è½¬æ¢ï¼ši as f64 æˆ– x as i32ã€‚éšå¼æ•´æ•°è½¬æ¢æœ‰ç€å¯¼è‡´é”™è¯¯å’Œå®‰å…¨æ¼æ´çš„å¤§é‡â€œå‰ç§‘â€ï¼Œç‰¹åˆ«æ˜¯åœ¨ç”¨è¿™ç§æ•´æ•°è¡¨ç¤ºå†…å­˜ä¸­æŸäº›å†…å®¹çš„å¤§å°æ—¶ï¼Œå¾ˆå¯èƒ½å‘ç”Ÿæ„å¤–æº¢å‡ºã€‚Rust è¿™ç§è¦æ±‚æ˜ç¡®å†™å‡ºæ•°å€¼ç±»å‹è½¬æ¢çš„è¡Œä¸ºï¼Œä¼šæé†’æˆ‘ä»¬æ³¨æ„åˆ°ä¸€äº›å¯èƒ½é”™è¿‡çš„é—®é¢˜ã€‚
```
// æ˜¾å¼è½¬æ¢
fn main() {
    let int_value: i32 = 42;
    let float_value: f64 = 3.14;
    let small_int: i16 = 100;
    let converted_to_float: f64 = int_value as f64; // å°† i32 è½¬æ¢ä¸º f64
    let converted_to_int: i32 = small_int as i32;   // å°† i16 è½¬æ¢ä¸º i32

    println!("int_value as f64: {}", converted_to_float);
    println!("small_int as i32: {}", converted_to_int);

    // ç›´æ¥ä¼ é€’ç±»å‹ä¸åŒ¹é…çš„å‚æ•°ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯
    // let result = add_float(int_value); // è¿™è¡Œä»£ç ä¼šå¯¼è‡´é”™è¯¯

    // æ­£ç¡®çš„è°ƒç”¨æ–¹å¼ï¼Œä½¿ç”¨æ˜¾å¼è½¬æ¢
    let result = add_float(int_value as f64);
    println!("Result of adding float: {}", result);
}
// å‡½æ•°éœ€è¦ f64 ç±»å‹å‚æ•°
fn add_float(value: f64) -> f64 {
    value + 1.0 // è¿›è¡Œç®€å•çš„åŠ æ³•
}
```

&ensp;&ensp; &ensp;Rust ä¸­å¯ä»¥ä½¿ç”¨ As æ¥å®Œæˆä¸€ä¸ªç±»å‹åˆ°å¦ä¸€ä¸ªç±»å‹çš„è½¬æ¢ï¼Œå…¶æœ€å¸¸ç”¨äºå°†åŸå§‹ç±»å‹è½¬æ¢ä¸ºå…¶ä»–åŸå§‹ç±»å‹ï¼Œä½†æ˜¯å®ƒä¹Ÿå¯ä»¥å®Œæˆè¯¸å¦‚å°†æŒ‡é’ˆè½¬æ¢ä¸ºåœ°å€ã€åœ°å€è½¬æ¢ä¸ºæŒ‡é’ˆä»¥åŠå°†æŒ‡é’ˆè½¬æ¢ä¸ºå…¶ä»–æŒ‡é’ˆç­‰åŠŸèƒ½ã€‚<span style="color:red">ï¼ˆéœ€è¦æ·»åŠ åç»­ç¬”è®°é“¾æ¥ï¼‰</span>
## 1.3 å¸ƒå°”ç±»å‹(bool)

&ensp;&ensp; &ensp;Rust ä¸­çš„å¸ƒå°”ç±»å‹å€¼**åªèƒ½**æ˜¯ï¼štrueÂ å’ŒÂ falseï¼Œå¸ƒå°”å€¼å ç”¨å†…å­˜çš„å¤§å°ä¸ºÂ 1Â ä¸ªå­—èŠ‚ã€‚

&ensp;&ensp; &ensp;è¿™ä¸ªåœ°æ–¹å’ŒC++è¯­è¨€æœ‰ç‚¹ä¸ä¸€æ ·çš„åœ°æ–¹ï¼š trueèƒ½å†™æˆ1,falseèƒ½å†™æˆ0å—ï¼Ÿäº‹å®è¯´è¯ã€‚

![|775](image/Pasted_image_20241105203927.png)
```
fn main() { 
	let t = true; 
	let f: bool = false; 
	// ä½¿ç”¨ç±»å‹æ ‡æ³¨,æ˜¾å¼æŒ‡å®šfçš„ç±»å‹ if f { println!("è¿™æ˜¯æ®µæ¯«æ— æ„ä¹‰çš„ä»£ç "); 
	}
 }
```

&ensp;&ensp; &ensp;ä½¿ç”¨å¸ƒå°”ç±»å‹çš„åœºæ™¯**ä¸»è¦åœ¨äºæµç¨‹æ§åˆ¶**ï¼Œä¾‹å¦‚ä¸Šè¿°ä»£ç çš„ä¸­çš„Â ifÂ å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚

&ensp;&ensp; &ensp;Rust çš„ **as è¿ç®—ç¬¦å¯ä»¥å°† bool å€¼è½¬æ¢ä¸ºæ•´å‹**ï¼Œä½†æ˜¯ï¼Œas **æ— æ³•è¿›è¡Œå¦ä¸€ä¸ªæ–¹å‘ï¼ˆä»æ•°å€¼ç±»å‹åˆ° boolï¼‰çš„è½¬æ¢**ã€‚ç›¸åï¼Œä½ å¿…é¡»æ˜¾å¼åœ°å†™å‡ºæ¯”è¾ƒè¡¨è¾¾å¼ã€‚

```
fn main(){
    assert_eq!(false as i32, 0);
    assert_eq!(true  as i32, 1);
}
```

## 1.4 å­—ç¬¦ç±»å‹(char)

&ensp;&ensp; &ensp;Rust çš„å­—ç¬¦ä¸ä»…ä»…æ˜¯Â ASCIIï¼Œ**æ‰€æœ‰çš„Â UnicodeÂ å€¼éƒ½å¯ä»¥ä½œä¸º Rust å­—ç¬¦**ï¼ŒåŒ…æ‹¬å•ä¸ªçš„ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ã€emoji è¡¨æƒ…ç¬¦å·ç­‰ç­‰ï¼Œéƒ½æ˜¯åˆæ³•çš„å­—ç¬¦ç±»å‹ã€‚

&ensp;&ensp; &ensp;Unicode å€¼çš„èŒƒå›´ä» U+0000 åˆ° U+D7FF å’Œ U+E000 åˆ° U+10FFFF ï¼ˆåŒ…æ‹¬ä¸¤ç«¯ï¼‰ï¼Œchar æ°¸è¿œä¸ä¼šæ˜¯â€œåŠä»£ç”¨åŒºâ€ä¸­çš„ç ç‚¹ï¼ˆ0xD800 åˆ° 0xDFFF èŒƒå›´å†…çš„ç ç‚¹ï¼Œ å®ƒä»¬ä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼‰ã€‚

&ensp;&ensp; &ensp;ä¸€èˆ¬æ¨èä½¿ç”¨å­—ç¬¦ä¸²å‚¨å­˜ UTF-8 æ–‡å­—ï¼ˆéè‹±æ–‡å­—ç¬¦å°½å¯èƒ½åœ°å‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­ï¼‰ã€‚åœ¨ Rust ä¸­å­—ç¬¦ä¸²å’Œå­—ç¬¦éƒ½å¿…é¡»ä½¿ç”¨ UTF-8 ç¼–ç ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚

&ensp;&ensp; &ensp;å­—ç¬¦çš„Unicodeç ç‚¹åœ¨ U+0000 åˆ° U+007F èŒƒå›´å†…ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå®ƒæ˜¯ä» ASCII å­— ç¬¦é›†ä¸­æå–çš„ï¼‰ï¼Œå°±å¯ä»¥æŠŠå­—ç¬¦å†™ä¸º '\xHH'ï¼Œå…¶ä¸­ HH æ˜¯ä¸¤ä¸ªåå…­è¿›åˆ¶æ•°ã€‚ä¾‹ å¦‚ï¼Œå­—ç¬¦å­—é¢é‡ '*' å’Œ '\x2A' æ˜¯ç­‰æ•ˆçš„ã€‚ï¼ˆ åé¢å…³äºUnicodeç ç‚¹çš„æˆ‘æ˜¯çœŸçœ‹ä¸æ‡‚  è¿™ä¸ªåœ°æ–¹åº”è¯¥æ˜¯ä¸æ˜¯å­¦ä¹ é‡ç‚¹ï¼Œä»¥åé‡åˆ°å…·ä½“é—®é¢˜å†å­¦ä¹ ï¼‰
```
fn main() {
    let c = 'z';
    let z = 'â„¤';
    let g = 'å›½';
    let heart_eyed_cat = 'ğŸ˜»';
}
```

&ensp;&ensp; &ensp;ç”±äºÂ UnicodeÂ éƒ½æ˜¯ 4 ä¸ªå­—èŠ‚ç¼–ç ï¼Œå› æ­¤**å­—ç¬¦ç±»å‹ä¹Ÿæ˜¯å ç”¨ 4 ä¸ªå­—èŠ‚**ã€‚

&ensp;&ensp; &ensp;**åˆ‡è®°Rust çš„å­—ç¬¦åªèƒ½ç”¨ '  ' æ¥è¡¨ç¤ºï¼Œ " " æ˜¯ç•™ç»™å­—ç¬¦ä¸²çš„ã€‚**


## 1.5 å…ƒç»„(Tuple)

&ensp;&ensp; &ensp;å…ƒç»„æ˜¯å„ç§ç±»å‹å€¼çš„å€¼å¯¹æˆ–ä¸‰å…ƒç»„ã€å››å…ƒç»„ã€äº”å…ƒç»„ç­‰ï¼ˆå› æ­¤ç§°ä¸º n-å…ƒç»„æˆ–å…ƒ ç»„ï¼‰ã€‚

&ensp;&ensp; &ensp;å…¶å®ä½ å¯ä»¥æŠŠæ•°ç»„[ ]å’Œå…ƒç»„å«åš**å¤åˆç±»å‹**ã€‚å› ä¸ºå¯ä»¥åŒ…å«ä¸åŒç§ç±»çš„æ•°æ®(è¿™å¥è¯æœ‰æ¯›ç—…å¯ä»¥å¿½ç•¥)ã€‚ä½†ä»–ä¿©è¿˜æ˜¯æœ‰ç‚¹ä¸åŒçš„ã€‚

+ å®šä¹‰ï¼š() è¡¨ç¤ºä¸€ä¸ªå…ƒç»„ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªä¸åŒç±»å‹çš„å€¼ã€‚
	- ç”¨æ³•ï¼š
		* å…ƒç»„å¯ä»¥ç”¨æ¥ç»„åˆä¸åŒç±»å‹çš„å€¼ã€‚
		* å…ƒç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä¸”é•¿åº¦åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ã€‚
	- ç¤ºä¾‹ï¼š	
	```
	fn main(){
		let tuple: (i32, f64, char) = (42, 3.14, 'a');  //ä¸åŒç±»å‹æ˜¯è¿™ä¸ªæ„æ€
		println!("Tuple values: {:?}", tuple);
	}
	```
+ å’Œæ•°ç»„[ ]åšä¸€ä¸ªç®€å•å¯¹æ¯” åé¢æœ‰å¯¹æ•°ç»„çš„è¯¦ç»†ä»‹ç»[[#1.7 æ•°ç»„  |æ•°ç»„]]
    - ç±»å‹ï¼š
		* å…ƒç»„å¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å…ƒç´ ï¼› 
		* æ•°ç»„åªèƒ½åŒ…å«ç›¸åŒç±»å‹çš„å…ƒç´ ã€‚
     - é•¿åº¦ï¼š
	     * å…ƒç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä½†é•¿åº¦å¯ä»¥æ˜¯ä¸åŒçš„ï¼ˆä¸åŒçš„å…ƒç»„å¯ä»¥æœ‰ä¸åŒæ•°é‡çš„å…ƒç´ ï¼‰ï¼›
	     * æ•°ç»„çš„é•¿åº¦åœ¨å®šä¹‰æ—¶ç¡®å®šï¼Œå¹¶ä¸”æ‰€æœ‰æ•°ç»„çš„é•¿åº¦éƒ½æ˜¯ç›¸åŒçš„ã€‚
+ è®¿é—®æ–¹å¼ï¼š
	- å…ƒç»„å¯ä»¥é€šè¿‡ä½ç½®æ¥è®¿é—®å…ƒç´ ï¼Œ tuple.0ã€tuple.1ã€‚
	- æ•°ç»„å¯ä»¥é€šè¿‡ç´¢å¼•æ¥è®¿é—®ï¼Œ array[0]ã€‚ 
	- 
```
	fn  main(){
		let text = "I see the eigenvalue in thine eye";
		let temp = text.split_at(21);
		let head = temp.0;
		let tail = temp.1;
		assert_eq!(head, "I see the eigenvalue ");
		assert_eq!(tail, "in thine eye");
	}
```
&ensp;&ensp; &ensp;è¿˜æœ‰ä¸€ä¸ªå¸¸ç”¨çš„å…ƒç»„ç±»å‹æ˜¯**é›¶å…ƒç»„ ()**ã€‚ä¼ ç»Ÿä¸Šï¼Œè¿™å«ä½œå•å…ƒç±»å‹ï¼Œå› ä¸ºæ­¤ç±»å‹åªæœ‰ ä¸€ä¸ªå€¼ï¼Œå†™ä½œ ( )ã€‚

&ensp;&ensp; &ensp;å½“æ— æ³•æºå¸¦ä»»ä½•æœ‰æ„ä¹‰çš„å€¼ä½†å…¶ä¸Šä¸‹æ–‡ä»ç„¶è¦æ±‚ä¼ å…¥æŸç§ç±»å‹æ—¶ï¼Œ Rust å°±ä¼šä½¿ç”¨å•å…ƒç±»å‹ã€‚main å‡½æ•°å°±è¿”å›è¿™ä¸ªå•å…ƒç±»å‹ ()ï¼Œä½ ä¸èƒ½è¯´ main å‡½æ•°æ— è¿”å›å€¼ï¼Œå› ä¸ºæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°åœ¨ Rust ä¸­æ˜¯æœ‰å•ç‹¬çš„å®šä¹‰çš„ï¼š**å‘æ•£å‡½æ•°**( diverge function )ï¼Œé¡¾åæ€ä¹‰ï¼Œæ— æ³•æ”¶æ•›çš„å‡½æ•°ã€‚

&ensp;&ensp; &ensp;ä¾‹å¦‚ï¼Œä¸è¿”å›å€¼çš„å‡½æ•°çš„è¿”å›ç±»å‹ä¸º ()ã€‚å¸¸è§çš„ println!() çš„è¿”å›å€¼å°±æ˜¯å•å…ƒç±»å‹ ()ã€‚

&ensp;&ensp; &ensp;Rust å§‹ç»ˆå…è®¸åœ¨æ‰€æœ‰èƒ½ç”¨é€—å·çš„åœ°æ–¹ï¼ˆå‡½æ•°å‚æ•°ã€ æ•°ç»„ã€ç»“æ„ä½“å’Œæšä¸¾å®šä¹‰ï¼Œç­‰ç­‰ï¼‰æ·»åŠ é¢å¤–çš„å°¾éšé€—å·ã€‚ ä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œç”šè‡³æœ‰åŒ…å«å•ä¸ªå€¼çš„å…ƒç»„ã€‚å­—é¢é‡ ("lonely hearts",) å°± æ˜¯ä¸€ä¸ªåŒ…å«å•ä¸ªå­—ç¬¦ä¸²çš„å…ƒç»„ï¼Œå®ƒçš„ç±»å‹æ˜¯ (&str,)ã€‚åœ¨è¿™é‡Œï¼Œ**å€¼åé¢çš„é€—å·æ˜¯å¿…éœ€ çš„ï¼Œä»¥ç”¨äºåŒºåˆ†å•å€¼å…ƒç»„å’Œç®€å•çš„æ‹¬å·è¡¨è¾¾å¼ã€‚**

### 1.5.1 ç”¨æ¨¡å¼åŒ¹é…è§£æ„å…ƒç»„

```
fn main() {
    let tup = (500, 6.4, 1);
    let (x, y, z) = tup;
    println!("The value of y is: {}", y);
}
```

&ensp;&ensp; &ensp;ä½¿ç”¨ let (x, y, z) = tup; æ¥å®Œæˆä¸€æ¬¡æ¨¡å¼åŒ¹é…ï¼Œå› ä¸ºå…ƒç»„æ˜¯ (n1, n2, n3) å½¢å¼çš„ï¼Œå› æ­¤æˆ‘ä»¬ç”¨ä¸€æ¨¡ä¸€æ ·çš„ (x, y, z) å½¢å¼æ¥è¿›è¡ŒåŒ¹é…ï¼Œå…ƒç»„ä¸­å¯¹åº”çš„å€¼ä¼šç»‘å®šåˆ°å˜é‡ xï¼Œ yï¼Œ zä¸Šã€‚è¿™å°±æ˜¯**è§£æ„ï¼šç”¨åŒæ ·çš„å½¢å¼æŠŠä¸€ä¸ªå¤æ‚å¯¹è±¡ä¸­çš„å€¼åŒ¹é…å‡ºæ¥ã€‚**

### 1.5.2 ç”¨ . æ¥è®¿é—®å…ƒç»„

&ensp;&ensp; &ensp;Rust æä¾›äº† **. çš„è®¿é—®æ–¹å¼**ï¼šå’Œå…¶å®ƒè¯­è¨€çš„æ•°ç»„ã€å­—ç¬¦ä¸²ä¸€æ ·ï¼Œå…ƒç»„çš„ç´¢å¼•ä» 0 å¼€å§‹ã€‚

```
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);
    let five_hundred = x.0;
    let six_point_four = x.1;
    let one = x.2;
}
```


### 1.5.3 å…ƒç»„çš„ä½¿ç”¨ç¤ºä¾‹

&ensp;&ensp; &ensp;å…ƒç»„åœ¨å‡½æ•°è¿”å›å€¼åœºæ™¯å¾ˆå¸¸ç”¨ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨å…ƒç»„è¿”å›å¤šä¸ªå€¼ï¼š
```
fn main() {
    let s1 = String::from("hello");
    let (s2, len) = calculate_length(s1);
    println!("The length of '{}' is {}.", s2, len);
}
fn calculate_length(s: String) -> (String, usize) {
    let length = s.len(); // len() è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦
    (s, length)
}
```

&ensp;&ensp; &ensp;calculate_length å‡½æ•°æ¥æ”¶ s1 å­—ç¬¦ä¸²çš„æ‰€æœ‰æƒï¼Œç„¶åè®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæ¥ç€æŠŠå­—ç¬¦ä¸²æ‰€æœ‰æƒå’Œå­—ç¬¦ä¸²é•¿åº¦å†è¿”å›ç»™ s2 å’Œ len å˜é‡ã€‚

## 1.6 æŒ‡é’ˆç±»å‹

&ensp;&ensp; &ensp;Rust æœ‰å¤šç§è¡¨ç¤ºå†…å­˜åœ°å€çš„ç±»å‹ï¼Œæ¥ä¸‹æ¥å°†è®¨è®º 3 ç§æŒ‡é’ˆç±»å‹ï¼šå¼•ç”¨ã€Box å’Œä¸å®‰å…¨æŒ‡é’ˆã€‚

### 1.6.1 å¼•ç”¨

&ensp;&ensp; &ensp;æœ€ç®€å•çš„æ–¹å¼æ˜¯å°†å¼•ç”¨è§†ä¸º Rust ä¸­çš„åŸºæœ¬æŒ‡é’ˆç±»å‹.<span style="color:red">ï¼ˆæ­¤å¤„ç®€å•ä»‹ç»  éœ€è¦è¡¥å……åç»­è¯¦ç»†ç« èŠ‚é“¾æ¥ï¼‰</span>

&ensp;&ensp; &ensp;å¯¹ i32 çš„å¼•ç”¨æ˜¯ä¸€ä¸ªä¿å­˜ç€ i32 åœ°å€çš„æœºå™¨å­—ï¼Œè¿™ä¸ªåœ°å€å¯èƒ½ä½äºæ ˆæˆ–å †ä¸­ã€‚è¡¨è¾¾å¼ &x ä¼šç”Ÿæˆ ä¸€ä¸ªå¯¹ x çš„å¼•ç”¨ï¼Œåœ¨ Rust æœ¯è¯­ä¸­ï¼Œæˆ‘ä»¬ä¼šè¯´å®ƒå€Ÿç”¨äº†å¯¹ x çš„å¼•ç”¨ã€‚ç»™å®šä¸€ä¸ªå¼•ç”¨ rï¼Œè¡¨è¾¾å¼ *r ä¼šå¼•ç”¨ r æŒ‡å‘çš„å€¼ã€‚

&ensp;&ensp; &ensp;Rust å¼•ç”¨æœ‰ä¸¤ç§å½¢å¼ï¼š
+ &T	
 ä¸€ä¸ªä¸å¯å˜çš„å…±äº«å¼•ç”¨ã€‚ä½ å¯ä»¥åŒæ—¶æ‹¥æœ‰å¤šä¸ªå¯¹ç»™å®šå€¼çš„å…±äº«å¼•ç”¨ï¼Œä½†å®ƒä»¬æ˜¯åªè¯»çš„ï¼šç¦æ­¢ä¿®æ”¹å®ƒä»¬æ‰€æŒ‡å‘çš„å€¼ï¼Œå°±åƒ C ä¸­çš„ const T* ä¸€æ ·ã€‚
```
fn main() {
//ç”¨ s1 çš„å¼•ç”¨ä½œä¸ºå‚æ•°ä¼ é€’ç»™ calculate_length å‡½æ•°ï¼Œè€Œä¸æ˜¯æŠŠ s1 çš„æ‰€æœ‰æƒè½¬ç§»ç»™è¯¥å‡½æ•°
    let s1 = String::from("hello");
    let len = calculate_length(&s1);      
    println!("The length of '{}' is {}.", s1, len);
}
fn calculate_length(s: &String) -> usize {
    s.len()
}
```
+ &mut T ä¸€ä¸ªå¯å˜çš„ã€ç‹¬å çš„å¼•ç”¨ã€‚ä½ å¯ä»¥è¯»å–å’Œä¿®æ”¹å®ƒæŒ‡å‘çš„å€¼ï¼Œå°±åƒ C ä¸­çš„ T* ä¸€æ ·ã€‚ä½†æ˜¯åªè¦è¯¥å¼•ç”¨è¿˜å­˜åœ¨ï¼Œå°±ä¸èƒ½å¯¹è¯¥å€¼æœ‰ä»»ä½•ç±»å‹çš„å…¶ä»–å¼•ç”¨ã€‚äº‹å®ä¸Šï¼Œè®¿é—®è¯¥å€¼çš„å”¯ä¸€é€”å¾„å°±æ˜¯ä½¿ç”¨è¿™ä¸ªå¯å˜å¼•ç”¨ã€‚

&ensp;&ensp; &ensp;Rust åˆ©ç”¨å…±äº«å¼•ç”¨å’Œå¯å˜å¼•ç”¨ä¹‹é—´çš„â€œ**äºŒé€‰ä¸€**â€æœºåˆ¶ï¼ˆåªæœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨æˆ–è€…å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼‰æ¥å¼ºåˆ¶æ‰§è¡Œâ€œ**å•ä¸ªå†™å…¥è€…æˆ–å¤šä¸ªè¯»å–è€…**â€è§„åˆ™ï¼šæˆ–è€…ç‹¬å å†™ä¸€ä¸ªå€¼ï¼Œæˆ–è€…è®©ä»»æ„æ•°é‡çš„è¯»å–è€…å…±äº«ï¼Œä½†äºŒè€…åªèƒ½é€‰æ‹©å…¶ä¸€ã€‚è¿™ç§é™åˆ¶çš„å¥½å¤„å°±æ˜¯ä½¿ Rust åœ¨ç¼–è¯‘æœŸå°±é¿å…æ•°æ®ç«äº‰ï¼Œæ•°æ®ç«äº‰å¯ç”±ä»¥ä¸‹è¡Œä¸ºé€ æˆï¼š

1. ä¸¤ä¸ªæˆ–æ›´å¤šçš„æŒ‡é’ˆåŒæ—¶è®¿é—®åŒä¸€æ•°æ®
2. è‡³å°‘æœ‰ä¸€ä¸ªæŒ‡é’ˆè¢«ç”¨æ¥å†™å…¥æ•°æ®
3. æ²¡æœ‰åŒæ­¥æ•°æ®è®¿é—®çš„æœºåˆ¶

```
fn main() {
//ç”¨ s1 çš„å¼•ç”¨ä½œä¸ºå‚æ•°ä¼ é€’ç»™ calculate_length å‡½æ•°ï¼Œè€Œä¸æ˜¯æŠŠ s1 çš„æ‰€æœ‰æƒè½¬ç§»ç»™è¯¥å‡½æ•°
    let s1 = String::from("hello");
    let len = calculate_length(&s1);      
    println!("The length of '{}' is {}.", s1, len);
}
fn calculate_length(s: &String) -> usize {
    s.len()
}
```

&ensp;&ensp; &ensp;æ¥å§è§è¯†ä¸€ä¸‹NLLå§ï¼ï¼ï¼ˆRust 1.31 åå¼•å…¥ï¼‰

&ensp;&ensp; &ensp;å¯¹äºè¿™ç§ç¼–è¯‘å™¨ä¼˜åŒ–è¡Œä¸ºï¼ŒRust ä¸“é—¨èµ·äº†ä¸€ä¸ªåå­— â€”â€” Non-Lexical Lifetimes(NLL)ï¼Œä¸“é—¨ç”¨äºæ‰¾åˆ°æŸä¸ªå¼•ç”¨åœ¨ä½œç”¨åŸŸ(})ç»“æŸå‰å°±ä¸å†è¢«ä½¿ç”¨çš„ä»£ç ä½ç½®ã€‚ï¼ˆRustç¼–è¯‘å™¨,å¤©æ‰ç¬¬ä¸€æ­¥ï¼‰

```
fn main() {
   let mut s = String::from("hello");
    let r1 = &s;
    let r2 = &s;
    //let r3 = &mut s;  //è¿™é‡Œä¼šæŠ¥é”™
    println!("{} and {}", r1, r2);
    // æ–°ç¼–è¯‘å™¨ä¸­ï¼Œr1,r2ä½œç”¨åŸŸåœ¨è¿™é‡Œç»“æŸ
    let r3 = &mut s;
    //let r4 = &s;      //è¿™é‡Œä¼šæŠ¥é”™
    println!("{}", r3);
} // è€ç¼–è¯‘å™¨ä¸­ï¼Œr1ã€r2ã€r3ä½œç”¨åŸŸåœ¨è¿™é‡Œç»“æŸ
// æ–°ç¼–è¯‘å™¨ä¸­ï¼Œr3ä½œç”¨åŸŸåœ¨è¿™é‡Œç»“æŸ
```

### 1.6.2 Box

&ensp;&ensp; &ensp;åœ¨å †ä¸­åˆ†é…å€¼çš„æœ€ç®€å•æ–¹å¼æ˜¯ä½¿ç”¨ Box::newã€‚ï¼ˆè¿™é‡Œ**éœ€è¦å¯¹å†…å­˜çš„æ ˆå’Œå †æœ‰ä¸€ä¸ªè®¤è¯†**ï¼Œåé¢å­¦ä¹ ä¾æ—§è¦ç”¨åˆ°ï¼Œè¿™é‡Œä¸åœ¨åšç¬”è®°ï¼‰Box æ˜¯ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒåœ¨å †ä¸Šåˆ†é…å†…å­˜å¹¶æä¾›å¯¹è¯¥å†…å­˜çš„å®‰å…¨è®¿é—®ã€‚ä½¿ç”¨ Box å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ†é…å†…å­˜ï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨å¤§å°åœ¨ç¼–è¯‘æ—¶æœªçŸ¥çš„ç±»å‹ã€‚

```
fn main() {
    // åœ¨å †ä¸Šåˆ†é…ä¸€ä¸ª i32 å€¼
    let boxed_value = Box::new(42);
    // è®¿é—®å †ä¸Šçš„å€¼
    println!("The value in the box is: {}", boxed_value);
    // é€šè¿‡è§£å¼•ç”¨è®¿é—®åŸå§‹å€¼
    let value = *boxed_value;
    println!("The unboxed value is: {}", value);
}
```

&ensp; &ensp; &ensp;Box\<T> æ˜¯æŒ‡å‘å­˜å‚¨åœ¨å †ä¸Šçš„ T ç±»å‹å€¼çš„æŒ‡é’ˆã€‚å¯ä»¥è°ƒç”¨ Box::new(v) åˆ†é…ä¸€äº›å †ç©ºé—´ï¼Œå°†å€¼ v ç§»å…¥å…¶ä¸­ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥å †ç©ºé—´çš„ Boxã€‚å› ä¸º Box æ‹¥æœ‰å®ƒæ‰€æŒ‡å‘çš„ç©ºé—´ï¼Œæ‰€ä»¥å½“ä¸¢å¼ƒ Box æ—¶ï¼Œä¹Ÿä¼šé‡Šæ”¾æ­¤ç©ºé—´ã€‚
```
fn main(){
    let point = Box::new((0.625, 0.5));  // åœ¨æ­¤åˆ†é…äº†point
    let label = format!("{:?}", point);  // åœ¨æ­¤åˆ†é…äº†label
    assert_eq!(label, "(0.625, 0.5)");
}
```
![|675](image/{{æ‰€æœ‰æƒ2.1}}-20241108-1.png)

&ensp; &ensp; &ensp;æ ˆå¸§æœ¬èº«åŒ…å«å˜é‡ point å’Œ labelï¼Œå…¶ä¸­æ¯ä¸ªå˜é‡éƒ½æŒ‡å‘å…¶æ‹¥æœ‰çš„å †ä¸­å†…å­˜ã€‚<font color="#ff0000">labelåœ¨æ ˆå¸§ä¸­å­˜å‚¨çš„æ˜¯ä»€è«ï¼Ÿ</font>
&ensp; &ensp; &ensp;å½“ä¸¢å¼ƒå®ƒä»¬æ—¶ï¼Œå®ƒä»¬æ‹¥æœ‰çš„å †ä¸­å†…å­˜ä¹Ÿä¼šä¸€èµ·è¢«é‡Šæ”¾ã€‚
### 1.6.3 ä¸å®‰å…¨æŒ‡é’ˆ(è£¸æŒ‡é’ˆ)

&ensp;&ensp; &ensp;Rust ä¹Ÿæœ‰è£¸æŒ‡é’ˆç±»å‹ *mut T å’Œ *const Tã€‚è£¸æŒ‡é’ˆå®é™…ä¸Šå’Œ C++ ä¸­çš„æŒ‡é’ˆå¾ˆåƒã€‚ä½¿ç”¨è£¸æŒ‡é’ˆæ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºRust ä¸ä¼šè·Ÿè¸ªå®ƒæŒ‡å‘çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œè£¸æŒ‡é’ˆå¯èƒ½ä¸ºç©ºï¼Œæˆ–è€…å®ƒä»¬å¯èƒ½æŒ‡å‘å·²é‡Šæ”¾çš„å†…å­˜æˆ–ç°åœ¨åŒ…å«ä¸åŒç±»å‹çš„å€¼ã€‚C++ çš„æ‰€æœ‰ç»å…¸æŒ‡é’ˆé”™è¯¯éƒ½å¯èƒ½â€œå€Ÿå°¸è¿˜é­‚â€ã€‚

&ensp;&ensp; &ensp;ä½ åªèƒ½åœ¨ unsafe å—ä¸­å¯¹è£¸æŒ‡é’ˆè§£å¼•ç”¨ï¼ˆdereferenceï¼‰ã€‚unsafe å—æ˜¯Rust é«˜çº§è¯­è¨€ç‰¹æ€§ä¸­çš„å¯é€‰æœºåˆ¶ï¼Œå…¶å®‰å…¨æ€§å–å†³äºä½ è‡ªå·±ã€‚å¦‚æœä»£ç ä¸­æ²¡æœ‰ unsafeå—ï¼ˆæˆ–è€…è™½ç„¶æœ‰ä½†ç¼–å†™æ­£ç¡®ï¼‰ï¼Œé‚£ä¹ˆæœ¬ä¹¦ä¸­å¼ºè°ƒçš„å®‰å…¨ä¿è¯å°±ä»ç„¶æœ‰æ•ˆã€‚<span style="color:red">ï¼ˆéœ€è¦è¿›ä¸€æ­¥çš„ä»£ç è¡¥å…… åé¢é‡åˆ°ä¼šè¡¥å……ï¼‰</span>

## 1.7 æ•°ç»„
### 1.7.1 æ•°ç»„çš„åŸºæœ¬å£°æ˜

&ensp;&ensp; &ensp;åœ¨ Rust ä¸­ï¼Œæ•°ç»„çš„å£°æ˜å½¢å¼å¦‚ä¸‹ï¼š

&ensp;&ensp; &ensp;`let lazy_caterer: [u32; 6] = [1, 2, 4, 7, 11, 16]; // å£°æ˜ä¸€ä¸ªå›ºå®šé•¿åº¦çš„æ•°ç»„`
- \[u32; 6] è¯´æ˜è¿™æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 6 çš„æ•°ç»„ï¼Œå…ƒç´ ç±»å‹æ˜¯ u32ç±»å‹ã€‚
- **æ•°ç»„æ˜¯å›ºå®šå¤§å°**çš„ï¼Œåœ¨ç¼–è¯‘æ—¶é•¿åº¦å°±å·²ç»ç¡®å®šã€‚

&ensp;&ensp; &ensp;è¿˜å¯ä»¥åœ¨æ•°ç»„ä¸­æ”¾å…¥å¤šä¸ªå€¼ï¼š

```
fn main(){
	let taxonomy = ["Animalia", "Arthropoda", "Insecta"];  // å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„
	assert_eq!(taxonomy.len(), 3);  // æ•°ç»„é•¿åº¦æ˜¯ 3
	assert_eq!(taxonomy[1], "Arthropoda");  
}
// ç´¢å¼•ä» 0 å¼€å§‹ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯ "Arthropoda"
```

1.7.2 ä½¿ç”¨ \[V; N] è¯­æ³•åˆ›å»ºå›ºå®šå¤§å°çš„æ•°ç»„

&ensp;&ensp; &ensp;Rust å…è®¸ä½¿ç”¨ \[V; N] çš„è¯­æ³•æ¥åˆ›å»ºä¸€ä¸ªå…ƒç´ éƒ½ä¸º V ä¸”é•¿åº¦ä¸º N çš„æ•°ç»„ã€‚

```
fn main(){
let mut sieve = [true; 10000];  // åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 10000 çš„æ•°ç»„ï¼Œæ‰€æœ‰å€¼ä¸º true
for i in 2..100 {
    if sieve[i] {
        let mut j = i * i;
        while j < 10000 {
            sieve[j] = false;  // æ ‡è®°éè´¨æ•°
            j += i;
        }
    }
}
assert!(sieve[211]);  // 211 æ˜¯è´¨æ•°
assert!(!sieve[9876]);  // 9876 ä¸æ˜¯è´¨æ•°
}
```

- ä½¿ç”¨ \[true; 10000] åˆ›å»ºä¸€ä¸ªå¸ƒå°”å€¼æ•°ç»„ï¼Œæ‰€æœ‰å€¼åˆå§‹åŒ–ä¸º trueã€‚
- è¯¥ç®—æ³•æ˜¯è‘—åçš„åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•ï¼Œç”¨äºç­›é€‰è´¨æ•°ã€‚

### 1.7.3 æ•°ç»„å’Œåˆ‡ç‰‡

&ensp;&ensp; &ensp;æ•°ç»„çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯å®ƒå¯ä»¥ä½œä¸ºåˆ‡ç‰‡æ¥ä½¿ç”¨ã€‚åˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„ï¼ˆæˆ–å‘é‡ï¼‰çš„å¼•ç”¨ï¼Œæä¾›äº†ä¸€ç§æ›´åŠ çµæ´»çš„è®¿é—®æ–¹å¼ï¼Œä¸”åˆ‡ç‰‡çš„é•¿åº¦æ˜¯å¯ä»¥å˜åŒ–çš„ã€‚

&ensp;&ensp; &ensp;Rust ä¸­çš„æ•°ç»„æ–¹æ³•å¤§å¤šæ˜¯é€šè¿‡åˆ‡ç‰‡æ¥å®ç°çš„ï¼Œå¸¸è§çš„åˆ‡ç‰‡æ–¹æ³•åŒ…æ‹¬ sortã€iterã€len ç­‰ã€‚

```
fn main(){
	let mut chaos = [3, 5, 4, 1, 2];
	chaos.sort();  // æ’åº
	assert_eq!(chaos, [1, 2, 3, 4, 5]);  // æ’åºåçš„æ•°ç»„æ˜¯ [1, 2, 3, 4, 5]
}
```

- sort æ–¹æ³•æ˜¯å®šä¹‰åœ¨åˆ‡ç‰‡ä¸Šçš„ï¼Œä½†å®ƒå¯ä»¥é€šè¿‡æ•°ç»„çš„å¼•ç”¨æ¥éšå¼åœ°è°ƒç”¨ã€‚
- Rust ä¼šè‡ªåŠ¨å°†æ•°ç»„ chaos è½¬æ¢ä¸º &mut [i32] ç±»å‹çš„åˆ‡ç‰‡å¼•ç”¨ï¼Œç„¶åå†è°ƒç”¨ sort æ–¹æ³•ã€‚

### 1.7.4 æ•°ç»„çš„ä¸å¯å˜å’Œå¯å˜å€Ÿç”¨

&ensp;&ensp; &ensp;æ•°ç»„æ˜¯æ ˆä¸Šçš„å›ºå®šå¤§å°çš„é›†åˆï¼Œæ‚¨å¯ä»¥å€Ÿç”¨å®ƒä»¬ï¼Œä½†å¿…é¡»éµå®ˆä¸å¯å˜æˆ–å¯å˜å€Ÿç”¨è§„åˆ™ï¼š

- ä¸å¯å˜å€Ÿç”¨ï¼šå…è®¸æ‚¨ä»¥åªè¯»æ–¹å¼è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ã€‚
- å¯å˜å€Ÿç”¨ï¼šå…è®¸ä¿®æ”¹æ•°ç»„ä¸­çš„å…ƒç´ ã€‚
```
fn main(){
	let mut nums = [1, 2, 3];
	let nums_ref = &mut nums;  // å¯å˜å€Ÿç”¨
	nums_ref[0] = 42;  // ä¿®æ”¹ nums çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
}
```

### 1.7.5 æ•°ç»„çš„å¤§å°æ˜¯å›ºå®šçš„

&ensp;&ensp; &ensp;Rust çš„æ•°ç»„é•¿åº¦åœ¨ç¼–è¯‘æ—¶æ˜¯å›ºå®šçš„ï¼Œå› æ­¤ä¸èƒ½åœ¨è¿è¡Œæ—¶åŠ¨æ€æ”¹å˜æ•°ç»„çš„å¤§å°ã€‚

```
fn main(){
	let n = 5;
	let arr = [0; n];  // é”™è¯¯ï¼š`n` éœ€è¦æ˜¯å¸¸é‡
}
```

&ensp;&ensp; &ensp;ä¸ºäº†å¤„ç†å¤§å°åŠ¨æ€çš„æ•°ç»„ï¼ŒRust æä¾›äº†**å‘é‡ï¼ˆVecï¼‰ç±»å‹ï¼Œå®ƒåœ¨è¿è¡Œæ—¶å¯ä»¥åŠ¨æ€å¢é•¿æˆ–ç¼©å°ã€‚**

### 1.7.6 æ•°ç»„çš„ä¸å¯å˜å’Œå¯å˜å¼•ç”¨çš„ä¾‹å­

```
fn main() {
    let mut arr = [1, 2, 3];
    // ä¸å¯å˜å€Ÿç”¨
    let ref1 = &arr;  
    println!("ref1: {:?}", ref1);  // å¼•ç”¨æ•°ç»„ï¼Œè¾“å‡ºï¼š[1, 2, 3]
    // å¯å˜å€Ÿç”¨
    let ref2 = &mut arr;  
    ref2[0] = 42;  // ä¿®æ”¹æ•°ç»„
    println!("ref2: {:?}", ref2);  // å¼•ç”¨ä¿®æ”¹åçš„æ•°ç»„ï¼Œè¾“å‡ºï¼š[42, 2, 3]
    // å†æ¬¡ä½¿ç”¨ä¸å¯å˜å€Ÿç”¨
    let ref3 = &arr;
    println!("ref3: {:?}", ref3);  // å¼•ç”¨ä¿®æ”¹åçš„æ•°ç»„ï¼Œè¾“å‡ºï¼š[42, 2, 3]
}
```

### 1.7.7 æ€»ç»“

- å›ºå®šå¤§å°ï¼šæ•°ç»„çš„å¤§å°åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œå› æ­¤æ— æ³•åŠ¨æ€æ›´æ”¹é•¿åº¦ã€‚
- åˆ‡ç‰‡ï¼šæ•°ç»„å¯ä»¥ä½œä¸ºåˆ‡ç‰‡ä½¿ç”¨ï¼Œåˆ‡ç‰‡æ–¹æ³•ä¸æ•°ç»„æ“ä½œéå¸¸ç›¸ä¼¼ï¼Œæ•°ç»„æœ¬èº«è¢«éšå¼è½¬æ¢ä¸ºåˆ‡ç‰‡ã€‚
- ä¸å¯å˜å’Œå¯å˜å¼•ç”¨ï¼šRust ä¸­çš„æ•°ç»„éµå¾ªä¸¥æ ¼çš„æ‰€æœ‰æƒå’Œå€Ÿç”¨è§„åˆ™ï¼Œå¯é€šè¿‡å€Ÿç”¨æ¥è®¿é—®å’Œä¿®æ”¹æ•°ç»„çš„å…ƒç´ ã€‚
- åˆå§‹åŒ–æ–¹æ³•ï¼šä½¿ç”¨ \[value; length] å¯ä»¥åˆå§‹åŒ–å›ºå®šå¤§å°çš„æ•°ç»„ï¼Œæ‰€æœ‰å…ƒç´ å€¼éƒ½ç›¸åŒã€‚
## 1.8 å‘é‡

&ensp;&ensp; &ensp;åœ¨ Rust ä¸­ï¼ŒVec æ˜¯ä¸€ç§éå¸¸é‡è¦çš„é›†åˆç±»å‹ï¼Œä»£è¡¨ä¸€ä¸ªå¯ä»¥åŠ¨æ€å¢é•¿å’Œç¼©å°çš„å‘é‡ã€‚å®ƒæä¾›äº†ä¸€ä¸ªçµæ´»ã€å¯è°ƒæ•´å¤§å°çš„æ•°ç»„ï¼Œå†…å­˜åˆ†é…åœ¨å †ä¸Šï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ“ä½œæ•°æ®ã€‚

### 1.8.1 åˆ›å»ºå‘é‡

+ ä½¿ç”¨ vec! å®    æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ vec! å®ï¼Œå®ƒç±»ä¼¼äºæ•°ç»„å­—é¢é‡çš„è¯­æ³•ï¼Œç”¨äºå¿«é€Ÿåˆ›å»ºä¸€ä¸ªå‘é‡ï¼š

```
fn mian(){
	let mut primes = vec![2, 3, 5, 7];  // åˆ›å»ºä¸€ä¸ªåŒ…å«è´¨æ•°çš„å‘é‡
	assert_eq!(primes.iter().product::<i32>(), 210);  // è®¡ç®—å…ƒç´ çš„ä¹˜ç§¯
}
```

 &ensp;&ensp; &ensp;vec!\[2, 3, 5, 7] åˆ›å»ºä¸€ä¸ªåŒ…å«æŒ‡å®šå…ƒç´ çš„å‘é‡ã€‚

+ åŠ¨æ€æ·»åŠ å…ƒç´     å‘é‡æ˜¯åŠ¨æ€å¯å˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ push æ–¹æ³•å‘å‘é‡æ·»åŠ å…ƒç´ ï¼š

```
fn mian(){
	let mut primes = vec![2, 3, 5, 7];  // åˆ›å»ºä¸€ä¸ªåŒ…å«è´¨æ•°çš„å‘é‡
	primes.push(11);  // å‘å‘é‡æ·»åŠ å…ƒç´ 
	primes.push(13);
	assert_eq!(primes.iter().product::<i32>(), 30030);  // æ›´æ–°åçš„å…ƒç´ ä¹˜ç§¯
}
```

+ åˆ›å»ºå…·æœ‰é‡å¤å€¼çš„å‘é‡    å¯ä»¥é€šè¿‡æŒ‡å®šå…ƒç´ å’Œé‡å¤æ¬¡æ•°æ¥åˆ›å»ºä¸€ä¸ªå…·æœ‰é‡å¤å€¼çš„å‘é‡ï¼š

```
fn new_pixel_buffer(rows: usize, cols: usize) -> Vec<u8> {
    vec![0; rows * cols]  // åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º rows * cols çš„å‘é‡ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ 0
}
```

+ ä½¿ç”¨ Vec::new åˆ›å»ºç©ºå‘é‡

&ensp;&ensp; &ensp;å¦å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ Vec::new() æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„å‘é‡ï¼Œç„¶åé€ä¸ªæ·»åŠ å…ƒç´ ï¼š

```
fn main(){
	let mut pal = Vec::new();
	pal.push("step");
	pal.push("on");
	pal.push("no");
	pal.push("pets");
	assert_eq!(pal, vec!["step", "on", "no", "pets"]);
}
```

+ ä»è¿­ä»£å™¨åˆ›å»ºå‘é‡

```
fn mian(){
	let v: Vec<i32> = (0..5).collect();  // ä½¿ç”¨ collect å°†è¿­ä»£å™¨ç”Ÿæˆçš„å€¼æ”¶é›†æˆå‘é‡
	assert_eq!(v, [0, 1, 2, 3, 4]);	
}
```

&ensp;&ensp; &ensp;collect æ–¹æ³•æ ¹æ®ä¸Šä¸‹æ–‡çš„ç±»å‹æ¨æ–­ï¼Œé»˜è®¤å°†ç»“æœæ”¶é›†ä¸ºå‘é‡ï¼Œä½†ä¹Ÿå¯ä»¥æŒ‡å®šå…¶ä»–ç±»å‹çš„é›†åˆã€‚

### 1.8.2 ä¸æ•°ç»„çš„ç›¸ä¼¼æ€§

&ensp;&ensp; &ensp;è™½ç„¶æ•°ç»„å’Œå‘é‡åœ¨ Rust ä¸­éƒ½æ˜¯é›†åˆç±»å‹ï¼Œæ•°ç»„çš„å¤§å°åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œè€Œå‘é‡çš„å¤§å°åœ¨è¿è¡Œæ—¶åŠ¨æ€å˜åŒ–ã€‚å‘é‡æ”¯æŒä¸åˆ‡ç‰‡ç±»ä¼¼çš„æ–¹æ³•ï¼Œæ¯”å¦‚ sort()ã€reverse() ç­‰ï¼š

```
fn main(){
	let mut palindrome = vec!["a man", "a plan", "a canal", "panama"];
	palindrome.reverse();  // åè½¬å‘é‡
	assert_eq!(palindrome, vec!["panama", "a canal", "a plan", "a man"]);
}
```

### 1.8.3 å‘é‡çš„å®¹é‡ç®¡ç†

&ensp;&ensp; &ensp;å‘é‡åœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼Œå¹¶ä¸”éšç€å…ƒç´ çš„æ·»åŠ ï¼Œå‘é‡ä¼šè‡ªåŠ¨æ‰©å±•ã€‚Vec ç”± 3 ä¸ªéƒ¨åˆ†ç»„æˆï¼šæŒ‡å‘å †ä¸­å…ƒç´ çš„æŒ‡é’ˆã€ç¼“å†²åŒºèƒ½å­˜å‚¨çš„å…ƒç´ æ•°é‡ã€ä»¥åŠå½“å‰å®é™…åŒ…å«çš„å…ƒç´ æ•°é‡ã€‚

+ Vec::with_capacity

&ensp;&ensp; &ensp;å¦‚æœçŸ¥é“å‘é‡çš„åˆå§‹å¤§å°ï¼Œå¯ä»¥ä½¿ç”¨ Vec::with_capacity æ¥é¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…ï¼š
```
fn main(){
	let mut v = Vec::with_capacity(2);
	assert_eq!(v.len(), 0);
	assert_eq!(v.capacity(), 2);
	v.push(1);
	v.push(2);
	assert_eq!(v.len(), 2);
	assert_eq!(v.capacity(), 2);  // å®¹é‡ä¿æŒ 2
	v.push(3);
	println!("capacity is now {}", v.capacity());  // å®¹é‡é€šå¸¸ä¼šæ‰©å±•ä¸º 4
}
```

 - capacity() è¿”å›å½“å‰å‘é‡èƒ½å¤Ÿå®¹çº³çš„æœ€å¤§å…ƒç´ æ•°ï¼Œè€Œä¸éœ€è¦è¿›è¡Œå†…å­˜é‡æ–°åˆ†é…ã€‚
 - å½“å‘é‡è¶…è¿‡å®¹é‡æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å¢åŠ å®¹é‡ã€‚

### 1.8.4 å‘é‡çš„ä¿®æ”¹æ“ä½œ

+ æ’å…¥å…ƒç´ 

&ensp;&ensp; &ensp;å¯ä»¥åœ¨ä»»æ„ä½ç½®æ’å…¥å…ƒç´ ï¼š

```
fn main(){
	let mut v = vec![10, 20, 30, 40, 50];
	v.insert(3, 35);  // åœ¨ç´¢å¼•ä¸º 3 çš„ä½ç½®æ’å…¥ 35
	assert_eq!(v, [10, 20, 30, 35, 40, 50]);
}
```

+  åˆ é™¤å…ƒç´ 

&ensp;&ensp; &ensp;å¯ä»¥é€šè¿‡ç´¢å¼•åˆ é™¤å…ƒç´ ï¼š

```
fn main(){
	v.remove(1);  // ç§»é™¤ç´¢å¼•ä¸º 1 çš„å…ƒç´ 
	assert_eq!(v, [10, 30, 35, 40, 50]);
}
```

+ å¼¹å‡ºå…ƒç´ 

&ensp;&ensp; &ensp;å¯ä»¥ä½¿ç”¨ pop æ–¹æ³•ä»å‘é‡ä¸­ç§»é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ª Optionï¼š

```
fn main(){
	let mut v = vec!["Snow Puff", "Glass Gem"];
	assert_eq!(v.pop(), Some("Glass Gem"));  // å¼¹å‡º "Glass Gem"
	assert_eq!(v.pop(), Some("Snow Puff"));  // å¼¹å‡º "Snow Puff"
	assert_eq!(v.pop(), None);  // å‘é‡ä¸ºç©ºï¼Œè¿”å› None
}
```

### 1.8.5 éå†å‘é‡

&ensp;&ensp; &ensp;å¯ä»¥ä½¿ç”¨ for å¾ªç¯éå†å‘é‡ï¼š
```
fn main(){
	let languages: Vec<String> = std::env::args().skip(1).collect();
	for l in languages {
	    println!("{}: {}", l,
	             if l.len() % 2 == 0 {
	                 "functional"
	             } else {
	                 "imperative"
	             });
	}
}
```

&ensp;&ensp; &ensp;è¿™æ®µä»£ç å±•ç¤ºäº†å¦‚ä½•å°†å‘½ä»¤è¡Œå‚æ•°æ”¶é›†ä¸ºå‘é‡ï¼Œå¹¶æ ¹æ®å­—ç¬¦ä¸²çš„é•¿åº¦åˆ¤æ–­å…¶æ˜¯å‡½æ•°å¼è¯­è¨€è¿˜æ˜¯å‘½ä»¤å¼è¯­è¨€ã€‚

### 1.8.6 æ€»ç»“

- Vec æ˜¯ä¸€ä¸ªå¯åŠ¨æ€å¢é•¿çš„é›†åˆï¼Œé€‚ç”¨äºéœ€è¦åŠ¨æ€è°ƒæ•´å¤§å°çš„åœºæ™¯ã€‚
- é€šè¿‡ vec! å®ã€Vec::newã€Vec::with_capacity å’Œè¿­ä»£å™¨ç­‰æ–¹æ³•å¯ä»¥åˆ›å»ºå’Œåˆå§‹åŒ–å‘é‡ã€‚
- å‘é‡å¯ä»¥é€šè¿‡åˆ‡ç‰‡æ–¹æ³•è¿›è¡Œæ“ä½œï¼ˆå¦‚ sort()ã€reverse()ï¼‰ï¼Œä¹Ÿæ”¯æŒä¿®æ”¹æ“ä½œï¼ˆå¦‚ push()ã€insert()ã€remove()ï¼‰ã€‚
- å‘é‡çš„å†…å­˜ç®¡ç†ä¼šè‡ªåŠ¨æ‰©å±•ï¼ŒVec::capacity() å’Œ Vec::with_capacity æä¾›äº†æ›´é«˜æ•ˆçš„å®¹é‡ç®¡ç†ã€‚
- å‘é‡ä¸æ•°ç»„çš„åŒºåˆ«åœ¨äºï¼Œå‘é‡çš„å¤§å°åœ¨è¿è¡Œæ—¶æ˜¯åŠ¨æ€çš„ï¼Œè€Œæ•°ç»„çš„å¤§å°åœ¨ç¼–è¯‘æ—¶æ˜¯å›ºå®šçš„ã€‚

&ensp;&ensp; &ensp;Rust ä¸­çš„ Vec ç±»å‹éå¸¸çµæ´»ï¼Œé€‚åˆç”¨äºå¤„ç†éœ€è¦åŠ¨æ€å¢é•¿çš„åˆ—è¡¨ï¼Œå‡ ä¹å¯ä»¥åœ¨ä»»ä½•éœ€è¦åŠ¨æ€é›†åˆçš„åœºæ™¯ä¸­ä½¿ç”¨ã€‚

## 1.9 å­—ç¬¦ä¸²ç±»å‹

&ensp;&ensp; &ensp;åœ¨ Rust ä¸­ï¼Œå­—ç¬¦ä¸²çš„å¤„ç†æ–¹å¼ä¸ C++ å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†ä¹Ÿæœ‰ç‹¬ç‰¹çš„è®¾è®¡ã€‚Rust æä¾›äº†å¤šç§æ–¹å¼æ¥å¤„ç†å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²å­—é¢é‡ã€å­—èŠ‚ä¸²å’ŒåŠ¨æ€å­—ç¬¦ä¸²ç±»å‹ï¼ˆStringï¼‰ã€‚Rust ä¸­çš„å­—ç¬¦æ˜¯ Unicode ç±»å‹ï¼Œå› æ­¤æ¯ä¸ªå­—ç¬¦å æ® 4 ä¸ªå­—èŠ‚å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯åœ¨å­—ç¬¦ä¸²ä¸­ä¸ä¸€æ ·ï¼Œ**å­—ç¬¦ä¸²æ˜¯ UTF-8 ç¼–ç **ï¼Œä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ‰€å çš„å­—èŠ‚æ•°æ˜¯å˜åŒ–çš„(1 - 4)ï¼Œè¿™æ ·æœ‰åŠ©äºå¤§å¹…é™ä½å­—ç¬¦ä¸²æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚

&ensp;&ensp; &ensp;Rust åœ¨è¯­è¨€çº§åˆ«ï¼Œåªæœ‰ä¸€ç§å­—ç¬¦ä¸²ç±»å‹ï¼š strï¼Œå®ƒé€šå¸¸æ˜¯ä»¥å¼•ç”¨ç±»å‹å‡ºç° &strï¼Œä¹Ÿå°±æ˜¯ä¸Šæ–‡æåˆ°çš„å­—ç¬¦ä¸²åˆ‡ç‰‡ã€‚è™½ç„¶è¯­è¨€çº§åˆ«åªæœ‰ä¸Šè¿°çš„ str ç±»å‹ï¼Œä½†æ˜¯åœ¨æ ‡å‡†åº“é‡Œï¼Œè¿˜æœ‰å¤šç§ä¸åŒç”¨é€”çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå…¶ä¸­ä½¿ç”¨æœ€å¹¿çš„å³æ˜¯ String ç±»å‹ã€‚

&ensp;&ensp; &ensp;str ç±»å‹æ˜¯ç¡¬ç¼–ç è¿›å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¹Ÿæ— æ³•è¢«ä¿®æ”¹ï¼Œä½†æ˜¯ String åˆ™æ˜¯ä¸€ä¸ªå¯å¢é•¿ã€å¯æ”¹å˜ä¸”å…·æœ‰æ‰€æœ‰æƒçš„ UTF-8 ç¼–ç å­—ç¬¦ä¸²ï¼Œå½“ Rust ç”¨æˆ·æåˆ°å­—ç¬¦ä¸²æ—¶ï¼Œå¾€å¾€æŒ‡çš„å°±æ˜¯ String ç±»å‹å’Œ &str å­—ç¬¦ä¸²åˆ‡ç‰‡ç±»å‹ï¼Œè¿™ä¸¤ä¸ªç±»å‹éƒ½æ˜¯ UTF-8 ç¼–ç ã€‚

&ensp;&ensp; &ensp;é™¤äº† String ç±»å‹çš„å­—ç¬¦ä¸²ï¼ŒRust çš„æ ‡å‡†åº“è¿˜æä¾›äº†å…¶ä»–ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ OsStringï¼Œ OsStrï¼Œ CsString å’Œ CsStr ç­‰

### 1.9.1 å­—ç¬¦ä¸²å­—é¢é‡

&ensp; &ensp; &ensp;å­—ç¬¦ä¸²å­—é¢é‡æ˜¯åœ¨ä»£ç ä¸­ç›´æ¥ä¹¦å†™çš„å­—ç¬¦ä¸²ï¼Œå®ƒä»¬ä»¥åŒå¼•å·åŒ…å›´ã€‚å¯ä»¥ä½¿ç”¨**è½¬ä¹‰åºåˆ—æ¥å¤„ç†ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚æ¢è¡Œç¬¦ã€åŒå¼•å·**ç­‰ã€‚

- åŸºæœ¬çš„å­—ç¬¦ä¸²å­—é¢é‡

```
let speech = "\"Ouch!\" said the well.\n";
```

&ensp; &ensp; &ensp;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ\" è½¬ä¹‰äº†åŒå¼•å·ï¼Œ\n è¡¨ç¤ºæ¢è¡Œç¬¦ã€‚

- å¤šè¡Œå­—ç¬¦ä¸² Rust æ”¯æŒè·¨å¤šè¡Œçš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œè‡ªåŠ¨åŒ…å«æ¢è¡Œç¬¦å’Œç©ºæ ¼ï¼š

```
fn main(){
println!("In the room the women come and go, Singing of Mount Abora");
}
```
&ensp; &ensp; &ensp;è¿™é‡Œå­—ç¬¦ä¸²åŒ…å«æ¢è¡Œç¬¦ï¼Œç”šè‡³åœ¨ç¬¬äºŒè¡Œçš„å¼€å¤´æœ‰ç©ºæ ¼ã€‚

- è¡Œè¿æ¥ å¯ä»¥ç”¨åæ–œæ  \ æ¥è¿æ¥å¤šè¡Œå­—ç¬¦ä¸²ï¼Œè¿æ¥æ—¶ä¼šä¸¢å¼ƒæ¢è¡Œç¬¦å’Œå¤šä½™çš„ç©ºæ ¼ï¼š

```
fn main(){
	println!("In the room the women come and go,
	Singing of Mount Abora");
}
```

&ensp; &ensp; &ensp;è¾“å‡ºä¼šæ˜¯å•è¡Œæ–‡æœ¬ï¼Œæ³¨æ„åæ–œæ å‰çš„ç©ºæ ¼ä»ç„¶ä¼šä¿ç•™ã€‚

- åŸå§‹å­—ç¬¦ä¸² åŸå§‹å­—ç¬¦ä¸²ç”¨ r å‰ç¼€æ ‡è®°ï¼Œå…è®¸å­—ç¬¦ä¸²ç›´æ¥åŒ…å«åæ–œæ è€Œä¸è¿›è¡Œè½¬ä¹‰ï¼Œéå¸¸é€‚åˆå¤„ç†æ–‡ä»¶è·¯å¾„æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚

```
fn main(){
	let default_win_install_path = r"C:\Program Files\Gorillas";
	let pattern = Regex::new(r"\d+(\.\d+)*");
}
```
&ensp; &ensp; &ensp;ä¸ºäº†å¤„ç†åŒ…å«åŒå¼•å·çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ r###"..."### è¯­æ³•ï¼š
```
fn main(){
println!(r###"
This raw string started with 'r###"'.
Therefore it does not end until we reach a quote mark ('"')
followed immediately by three pound signs ('###'):
"###);
}
```
### 1.9.2 å­—èŠ‚ä¸²ï¼ˆByte Stringï¼‰

&ensp; &ensp; &ensp;å­—èŠ‚ä¸²ä»¥ b å‰ç¼€æ ‡è®°ï¼Œç”¨äºè¡¨ç¤ºç”±å­—èŠ‚ï¼ˆu8ï¼‰æ„æˆçš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ Unicode å­—ç¬¦ã€‚å®ƒä»¬é€šå¸¸ç”¨äºå¤„ç†åŸå§‹äºŒè¿›åˆ¶æ•°æ®ã€‚

- å­—èŠ‚ä¸²çš„å®šä¹‰

```
fn main(){
	let method = b"GET";
	assert_eq!(method, &[b'G', b'E', b'T']);
}
```

- å­—èŠ‚ä¸²çš„å¤šè¡Œè¡¨ç¤º

&ensp; &ensp; &ensp;ä¸æ™®é€šå­—ç¬¦ä¸²ç±»ä¼¼ï¼Œå­—èŠ‚ä¸²ä¹Ÿå¯ä»¥è·¨å¤šè¡Œï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨åæ–œæ è¿æ¥è¡Œï¼š

```
let pattern = br"\d+(\.\d+)*";
```

&ensp; &ensp; &ensp;å­—èŠ‚ä¸²çš„ç±»å‹æ˜¯ &\[u8]ï¼Œå®ƒåªæ”¯æŒ ASCII å­—ç¬¦å’Œå°‘æ•°çš„ \xHH è½¬ä¹‰åºåˆ—ã€‚

### 1.9.3 å†…å­˜ä¸­çš„å­—ç¬¦ä¸²

&ensp; &ensp; &ensp;Rust ä¸­çš„å­—ç¬¦ä¸²æ˜¯ UTF-8 ç¼–ç çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥é«˜æ•ˆåœ°å­˜å‚¨å¤šç§è¯­è¨€çš„å­—ç¬¦ã€‚

- Stringå’Œ &strï¼š

	- String æ˜¯ä¸€ä¸ªåŠ¨æ€å¢é•¿çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå­˜å‚¨åœ¨å †ä¸Šï¼Œæ”¯æŒæ·»åŠ ã€ä¿®æ”¹ç­‰æ“ä½œã€‚
	- &str æ˜¯ä¸€ä¸ªæŒ‡å‘å·²æœ‰ UTF-8 å­—ç¬¦æ•°æ®çš„ä¸å¯å˜å¼•ç”¨ï¼Œé€šå¸¸è¡¨ç¤ºå­—ç¬¦ä¸²å­—é¢é‡ã€‚

- String å’Œ &str çš„å†…å­˜å¸ƒå±€ï¼š

	- String å­˜å‚¨åœ¨å †ä¸Šï¼Œå¯ä»¥åŠ¨æ€å¢é•¿ã€‚
	- &str æ˜¯ä¸€ä¸ªèƒ–æŒ‡é’ˆï¼ŒåŒ…å«æŒ‡å‘æ•°æ®çš„åœ°å€å’Œé•¿åº¦ã€‚

```
let noodles = "noodles".to_string();  // åˆ›å»º String
let oodles = &noodles[1..];           // åˆ›å»º &str åˆ‡ç‰‡
let poodles = "à² _à² ";                 // å­—ç¬¦ä¸²å­—é¢é‡
```

&ensp; &ensp; &ensp;å­—ç¬¦ä¸²çš„åº•å±‚çš„æ•°æ®å­˜å‚¨æ ¼å¼å®é™…ä¸Šæ˜¯\[ u8 ]ï¼Œä¸€ä¸ªå­—èŠ‚æ•°ç»„ã€‚å¯¹äº

```
let hello = String::from("ä¸­å›½äºº");
```

&ensp; &ensp; &ensp;å¦‚æœé—®ä½ è¯¥å­—ç¬¦ä¸²å¤šé•¿ï¼Œä½ å¯èƒ½ä¼šè¯´ 3ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯ 9 ä¸ªå­—èŠ‚çš„é•¿åº¦ï¼Œå› ä¸ºå¤§éƒ¨åˆ†å¸¸ç”¨æ±‰å­—åœ¨ UTF-8 ä¸­çš„é•¿åº¦æ˜¯ 3 ä¸ªå­—èŠ‚ï¼Œå› æ­¤è¿™ç§æƒ…å†µä¸‹å¯¹ hello è¿›è¡Œç´¢å¼•ï¼Œè®¿é—® &hello\[0] æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œå› ä¸ºä½ å–ä¸åˆ° ä¸­ è¿™ä¸ªå­—ç¬¦ï¼Œè€Œæ˜¯å–åˆ°äº†è¿™ä¸ªå­—ç¬¦ä¸‰ä¸ªå­—èŠ‚ä¸­çš„ç¬¬ä¸€ä¸ªå­—èŠ‚.<span style="color:red">ï¼ˆéœ€è¦è¡¥å……ä»£ç è¯´æ˜ï¼‰</span>

### 1.9.4 String ç±»å‹

&ensp; &ensp; &ensp;String æ˜¯ä¸€ä¸ªå¯å˜çš„ã€åœ¨å †ä¸Šåˆ†é…å†…å­˜çš„å­—ç¬¦ä¸²ç±»å‹ã€‚å®ƒä¸ Vec ç±»ä¼¼ï¼Œä½†ä¼šä¿è¯å…¶ä¸­çš„å†…å®¹æ˜¯æœ‰æ•ˆçš„ UTF-8ã€‚
+ åˆ›å»º Stringï¼š
     - ä½¿ç”¨ .to_string() æ–¹æ³•å°† &str è½¬æ¢ä¸º Stringï¼š
	 - ä½¿ç”¨  format! å®ç”Ÿæˆæ–°çš„ Stringï¼š
	 - è¿æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼š
```
fn main(){
	let error_message = "too many pets".to_string();
	let formatted_string = format!("{}Â°{:02}â€²{:02}â€³N", 24, 5, 23);
	let bits = vec!["veni", "vidi", "vici"];
	assert_eq!(bits.concat(), "venividivici");
	assert_eq!(bits.join(", "), "veni, vidi, vici");
}
```

&ensp; &ensp; &ensp;é‚£ä¹ˆå¦‚ä½•å°† String ç±»å‹è½¬ä¸º &str ç±»å‹å‘¢ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼Œå–å¼•ç”¨å³å¯ï¼š

```
fn main() {
    let s = String::from("hello,world!");
    say_hello(&s);
    say_hello(&s[..]);
    say_hello(s.as_str());
}

fn say_hello(s: &str) {
    println!("{}",s);
}
```

&ensp; &ensp; &ensp;å®é™…ä¸Šè¿™ç§çµæ´»ç”¨æ³•æ˜¯å› ä¸º deref éšå¼å¼ºåˆ¶è½¬æ¢.

### 1.9.5 ä½¿ç”¨å­—ç¬¦ä¸²

&ensp; &ensp; &ensp;Rust å­—ç¬¦ä¸²ç±»å‹æ”¯æŒè®¸å¤šæ“ä½œï¼ŒåŒ…æ‹¬**æ¯”è¾ƒã€æŸ¥æ‰¾ã€æ›¿æ¢å’Œæ‹†åˆ† è¿½åŠ ã€æ’å…¥ã€æ›¿æ¢ã€åˆ é™¤ã€è¿æ¥**ç­‰ã€‚
+ å­—ç¬¦ä¸²æ¯”è¾ƒ

&ensp; &ensp; &ensp;ä½¿ç”¨ == å’Œ != è¿›è¡Œå­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼š

```
assert!("ONE".to_lowercase() == "one");
```

+ å­—ç¬¦ä¸²æŸ¥æ‰¾å’Œæ›¿æ¢

```
assert!("peanut".contains("nut")); assert_eq!("à² _à² ".replace("à² ", "â– "), "â– _â– ");
```

+ å»é™¤ç©ºç™½å­—ç¬¦

```
assert_eq!(" clean\n".trim(), "clean");
```

+ å­—ç¬¦ä¸²æ‹†åˆ†

```
for word in "veni, vidi, vici".split(", ") { assert!(word.starts_with("v")); }
```

+ è¿½åŠ ï¼ˆPushï¼‰
   *  push(): å‘å­—ç¬¦ä¸²å°¾éƒ¨è¿½åŠ ä¸€ä¸ªå­—ç¬¦ï¼ˆcharï¼‰ã€‚
   * push_str(): å‘å­—ç¬¦ä¸²å°¾éƒ¨è¿½åŠ ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ï¼ˆ&strï¼‰ã€‚

&ensp; &ensp; &ensp;è¿™ä¸¤ä¸ªæ–¹æ³•ä¼šç›´æ¥ä¿®æ”¹åŸæœ‰å­—ç¬¦ä¸²ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ mut ä¿®é¥°å­—ç¬¦ä¸²å˜é‡ã€‚

```
fn main() {
    let mut s = String::from("Hello ");
    s.push_str("rust");
    println!("è¿½åŠ å­—ç¬¦ä¸² push_str() -> {}", s);
    s.push('!');
    println!("è¿½åŠ å­—ç¬¦ push() -> {}", s);
}
```
+ æ’å…¥ï¼ˆInsertï¼‰
	- insert(): åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå­—ç¬¦ã€‚
	- insert_str(): åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ï¼ˆ&strï¼‰ã€‚
	- æ’å…¥æ“ä½œéœ€è¦æä¾›ä½ç½®ç´¢å¼•ï¼ˆä» 0 å¼€å§‹ï¼‰ã€‚
```
fn main() {
    let mut s = String::from("Hello rust!");
    s.insert(5, ',');
    println!("æ’å…¥å­—ç¬¦ insert() -> {}", s);
    s.insert_str(6, " I like");
    println!("æ’å…¥å­—ç¬¦ä¸² insert_str() -> {}", s);
}
```
+ æ›¿æ¢ï¼ˆReplaceï¼‰
	- replace(): æ›¿æ¢æ‰€æœ‰åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚
	- replacen(): æ›¿æ¢å‰ n ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚
	- replace_range(): æ›¿æ¢æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œç›´æ¥ä¿®æ”¹åŸå­—ç¬¦ä¸²ã€‚
```
fn main() {
    let string_replace = String::from("I like rust. Learning rust is my favorite!");
    let new_string_replace = string_replace.replace("rust", "RUST");
    dbg!(new_string_replace);

    let string_replacen = "I like rust. Learning rust is my favorite!";
    let new_string_replacen = string_replacen.replacen("rust", "RUST", 1);
    dbg!(new_string_replacen);

    let mut string_replace_range = String::from("I like rust!");
    string_replace_range.replace_range(7..8, "R");
    dbg!(string_replace_range);
}
```

+ åˆ é™¤ï¼ˆDeleteï¼‰
	- pop(): åˆ é™¤å¹¶è¿”å›å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦ã€‚
	- remove(): åˆ é™¤æŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼Œè¿”å›è¢«åˆ é™¤çš„å­—ç¬¦ã€‚
	- truncate(): ä»æŒ‡å®šä½ç½®å¼€å§‹åˆ é™¤ç›´åˆ°ç»“å°¾ã€‚
	- clear(): æ¸…ç©ºå­—ç¬¦ä¸²ã€‚

```
fn main() {
    let mut string_pop = String::from("rust pop ä¸­æ–‡!");
    let p1 = string_pop.pop();
    let p2 = string_pop.pop();
    dbg!(p1);  // Some('!')
    dbg!(p2);  // Some('æ–‡')
    dbg!(string_pop);  // "rust pop ä¸­"

    let mut string_remove = String::from("æµ‹è¯•removeæ–¹æ³•");
    string_remove.remove(0);
    dbg!(string_remove);  // "è¯•removeæ–¹æ³•"

    let mut string_truncate = String::from("æµ‹è¯•truncate");
    string_truncate.truncate(3);
    dbg!(string_truncate);  // "æµ‹"

    let mut string_clear = String::from("string clear");
    string_clear.clear();
    dbg!(string_clear);  // ""
}
```

+ è¿æ¥ï¼ˆConcatenateï¼‰
	- ä½¿ç”¨ + æˆ– +=: è¿æ¥å­—ç¬¦ä¸²æ—¶ï¼Œå³ä¾§å¿…é¡»æ˜¯ &str ç±»å‹åˆ‡ç‰‡ï¼Œä¸” + ä¼šè½¬ç§»æ‰€æœ‰æƒã€‚
	- format!(): æ ¼å¼åŒ–å­—ç¬¦ä¸²å¹¶è¿æ¥ï¼Œä¸ä¼šè½¬ç§»æ‰€æœ‰æƒï¼Œé€‚ç”¨äº String å’Œ &strã€‚

```
fn main() {
    let string_append = String::from("hello ");
    let string_rust = String::from("rust");
    let result = string_append + &string_rust;
    let mut result = result + "!"; // `result + "!"` ä¼šè¿”å›æ–°çš„ String
    result += "!!!";
    println!("è¿æ¥å­—ç¬¦ä¸² + -> {}", result);

    let s1 = "hello";
    let s2 = String::from("rust");
    let s = format!("{} {}!", s1, s2);
    println!("{}", s);  // "hello rust!"
}
```

æ€»ç»“
- Rust çš„ String ç±»å‹æ˜¯å¯å˜çš„å †åˆ†é…å­—ç¬¦ä¸²ï¼Œè€Œ &str æ˜¯å¯¹å·²ç»å­˜åœ¨çš„å­—ç¬¦ä¸²çš„å€Ÿç”¨ã€‚
- å¸¸ç”¨æ“ä½œåŒ…æ‹¬è¿½åŠ ï¼ˆpush_str()ã€push()ï¼‰ã€æ’å…¥ï¼ˆinsert()ã€insert_str()ï¼‰ã€æ›¿æ¢ï¼ˆreplace()ã€replacen()ã€replace_range()ï¼‰ã€åˆ é™¤ï¼ˆpop()ã€remove()ã€truncate()ã€clear()ï¼‰å’Œè¿æ¥ï¼ˆ+ã€+=ã€format!()ï¼‰ã€‚
- åœ¨ä½¿ç”¨ + è¿›è¡Œè¿æ¥æ—¶ï¼Œè¦æ³¨æ„æ‰€æœ‰æƒè½¬ç§»çš„é—®é¢˜ï¼Œé¿å…è¯¯ç”¨æœªå†èµ‹å€¼çš„å˜é‡ã€‚

### 1.9.6 å…¶ä»–ç±»ä¼¼å­—ç¬¦ä¸²çš„ç±»å‹

&ensp; &ensp; &ensp;Rust æä¾›äº†å¤šç§ç±»ä¼¼å­—ç¬¦ä¸²çš„ç±»å‹ï¼Œå¤„ç†ä¸åŒçš„åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯å½“ä¸é UTF-8 æ•°æ®æˆ–ç³»ç»Ÿè¿›è¡Œäº’æ“ä½œæ—¶ï¼š<span style="color:red">ï¼ˆåç»­é‡åˆ°å†è¡¥å……ï¼‰</span>
- PathBuf å’Œ Pathï¼šç”¨äºå¤„ç†æ–‡ä»¶è·¯å¾„ã€‚
- Vec å’Œ &\[u8]ï¼šç”¨äºå¤„ç†äºŒè¿›åˆ¶æ•°æ®ã€‚
- OsString å’Œ &OsStrï¼šç”¨äºå¤„ç†æ“ä½œç³»ç»Ÿç‰¹æœ‰çš„å­—ç¬¦ä¸²ï¼ˆå¦‚ç¯å¢ƒå˜é‡åã€å‘½ä»¤è¡Œå‚æ•°ï¼‰ã€‚
- CString å’Œ &CStrï¼šç”¨äºä¸ C è¯­è¨€çš„ null ç»“å°¾å­—ç¬¦ä¸²è¿›è¡Œäº’æ“ä½œã€‚

### 1.9.7 æ€»ç»“

&ensp; &ensp; &ensp;Rust æä¾›äº†çµæ´»ä¸”å¼ºå¤§çš„å­—ç¬¦ä¸²å¤„ç†æ–¹å¼ï¼Œå…è®¸ç¨‹åºå‘˜é«˜æ•ˆåœ°å¤„ç† UTF-8 å­—ç¬¦ä¸²ã€å­—èŠ‚ä¸²åŠå…¶ä»–æ ¼å¼çš„æ•°æ®ã€‚åœ¨å¤„ç†å­—ç¬¦ä¸²æ—¶ï¼Œ&str æ˜¯ä¸å¯å˜çš„å¼•ç”¨ç±»å‹ï¼Œè€Œ String åˆ™æ˜¯å¯å˜çš„ã€åœ¨å †ä¸Šåˆ†é…å†…å­˜çš„ç±»å‹ã€‚ç†è§£è¿™äº›ç±»å‹çš„åŒºåˆ«ï¼Œä»¥åŠå¦‚ä½•é€‰æ‹©å®ƒä»¬ï¼Œå°†å¸®åŠ©ä½ åœ¨ Rust ä¸­æ›´åŠ é«˜æ•ˆåœ°å¤„ç†å­—ç¬¦ä¸²ã€‚

## 1.10 åˆ‡ç‰‡(slice)

&ensp; &ensp; &ensp;åœ¨ Rust ä¸­ï¼Œåˆ‡ç‰‡ï¼ˆslicesï¼‰æ˜¯å¯¹æ•°ç»„æˆ–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†çš„å¼•ç”¨ï¼Œå…è®¸ä½ å€Ÿç”¨æ•°æ®çš„ä¸€éƒ¨åˆ†è€Œä¸éœ€è¦å¤åˆ¶å®ƒã€‚åˆ‡ç‰‡å¯ä»¥åº”ç”¨äºæ•°ç»„ã€Vec å’Œ String ç±»å‹ã€‚

### 1.10.1 æ•°ç»„å’Œ Vec çš„åˆ‡ç‰‡

+ åˆ‡ç‰‡çš„åŸºæœ¬è¯­æ³•

&ensp; &ensp; &ensp;åˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„æˆ– Vec çš„å¼•ç”¨ï¼Œå®ƒæ²¡æœ‰æ‰€æœ‰æƒï¼Œå¹¶ä¸”æ˜¯ä¸å¯å˜çš„æˆ–å¯å˜çš„ã€‚åˆ‡ç‰‡çš„è¯­æ³•å¦‚ä¸‹ï¼š
```let arr = [1, 2, 3, 4, 5];
let slice = &arr[1..4];  // åˆ‡ç‰‡ä»ç´¢å¼•1åˆ°3ï¼ˆä¸åŒ…æ‹¬4ï¼‰ï¼Œå³ [2, 3, 4]
```
+ æ•°ç»„åˆ‡ç‰‡ç¤ºä¾‹
```
fn main(){
	let arr = [10, 20, 30, 40, 50];
    let slice = &arr[1..4];  // ä»ç´¢å¼• 1 åˆ° 3 çš„åˆ‡ç‰‡
    println!("{:?}", slice); // è¾“å‡º: [20, 30, 40]
    let full_slice = &arr[..]; // åŒ…å«æ‰€æœ‰å…ƒç´ 
    println!("{:?}", full_slice); // è¾“å‡º: [10, 20, 30, 40, 50]
    let first_two = &arr[..2];  // å‰ä¸¤ä¸ªå…ƒç´ 
    println!("{:?}", first_two); // è¾“å‡º: [10, 20]
}
```

+ Vec çš„åˆ‡ç‰‡ç¤ºä¾‹

```
fn main() {
    let vec = vec![10, 20, 30, 40, 50];
    
    let slice = &vec[1..4]; // åˆ‡ç‰‡ä»ç´¢å¼• 1 åˆ° 3
    println!("{:?}", slice); // è¾“å‡º: [20, 30, 40]
}
```

### 1.10.2 å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼ˆ&strï¼‰

&ensp; &ensp; &ensp;å¯¹äº String å’Œå­—ç¬¦ä¸²å­—é¢é‡ï¼ˆ&strï¼‰ï¼Œåˆ‡ç‰‡æ“ä½œç±»ä¼¼ï¼Œä½†ç”±äºå­—ç¬¦ä¸²çš„å­—ç¬¦æ˜¯ Unicode ç¼–ç çš„ï¼Œæ‰€ä»¥åˆ‡ç‰‡çš„èµ·æ­¢ä½ç½®å¿…é¡»æ˜¯æœ‰æ•ˆçš„å­—ç¬¦è¾¹ç•Œã€‚å¯ä»¥ä½¿ç”¨ get() æ–¹æ³•é¿å…ç´¢å¼•è¶Šç•Œã€‚

+ å­—ç¬¦ä¸²åˆ‡ç‰‡ç¤ºä¾‹

```
fn main() {
    let s = String::from("Hello, Rust!");
    let slice = &s[7..11]; // å­—ç¬¦ä¸²ä»ç¬¬ 7 åˆ°ç¬¬ 10 ä¸ªå­—èŠ‚
    println!("{}", slice); // è¾“å‡º: Rust
}
```

+ ä½¿ç”¨ get() æ–¹æ³•

&ensp; &ensp; &ensp;get() æ–¹æ³•è¿”å›ä¸€ä¸ª Option<&str>ï¼Œ**å¯ä»¥é¿å…è¶Šç•Œé”™è¯¯**ï¼š

```
fn main() {
    let s = String::from("Hello, Rust!");
    match s.get(7..11) {
        Some(slice) => println!("{}", slice), // è¾“å‡º: Rust
        None => println!("Out of bounds!"),
    }
}
```

### 1.10.3 åˆ‡ç‰‡çš„ç‰¹æ€§

- ä¸å¯å˜åˆ‡ç‰‡ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ‡ç‰‡æ˜¯ä¸å¯å˜çš„ã€‚ä¾‹å¦‚ï¼Œ&arr[1..4] æ˜¯ä¸€ä¸ªä¸å¯å˜åˆ‡ç‰‡ï¼Œä¸èƒ½ä¿®æ”¹åŸæ•°æ®ã€‚
- å¯å˜åˆ‡ç‰‡ï¼šå¯ä»¥é€šè¿‡ä½¿ç”¨ &mut è·å–ä¸€ä¸ªå¯å˜åˆ‡ç‰‡ï¼Œå®ƒå…è®¸ä½ ä¿®æ”¹åŸæ•°ç»„æˆ– Vec çš„éƒ¨åˆ†å†…å®¹ã€‚

```
fn main() {
    let mut arr = [10, 20, 30, 40, 50];
    let slice = &mut arr[1..4]; // å¯å˜åˆ‡ç‰‡
    slice[0] = 100; // ä¿®æ”¹åˆ‡ç‰‡å†…å®¹
    println!("{:?}", arr); // è¾“å‡º: [10, 100, 30, 40, 50]
}
```

### 1.10.4 åˆ‡ç‰‡çš„ä½¿ç”¨åœºæ™¯

- æé«˜æ•ˆç‡ï¼šåˆ‡ç‰‡é€šè¿‡å€Ÿç”¨æ•°æ®çš„ä¸€éƒ¨åˆ†é¿å…äº†æ•°æ®çš„å¤åˆ¶ã€‚
- å‡½æ•°å‚æ•°ä¼ é€’ï¼šåˆ‡ç‰‡å¸¸å¸¸ç”¨ä½œå‡½æ•°å‚æ•°ï¼Œé¿å…ä¼ é€’æ•´ä¸ªæ•°ç»„æˆ–å­—ç¬¦ä¸²ã€‚
- é¿å…ä¸å¿…è¦çš„å†…å­˜å¼€é”€ï¼šåˆ‡ç‰‡é€šè¿‡å¯¹æ•°æ®çš„ä¸€éƒ¨åˆ†è¿›è¡Œå¼•ç”¨è€Œä¸æ˜¯å¤åˆ¶ï¼Œå¯ä»¥èŠ‚çœå†…å­˜å¼€é”€ã€‚
```
fn print_slice(slice: &[i32]) {
    for &item in slice {
        println!("{}", item);
    }
}
fn main() {
    let arr = [1, 2, 3, 4, 5];
    print_slice(&arr[1..4]); // ä¼ é€’åˆ‡ç‰‡
}
```

### 1.10.5 åˆ‡ç‰‡çš„**è¾¹ç•Œæ³¨æ„äº‹é¡¹**

- å­—ç¬¦è¾¹ç•Œï¼šå¯¹äº String å’Œ &strï¼Œåˆ‡ç‰‡çš„å¼€å§‹å’Œç»“æŸä½ç½®å¿…é¡»åœ¨æœ‰æ•ˆå­—ç¬¦è¾¹ç•Œä¸Šï¼Œå¦åˆ™ä¼šå¼•å‘è¿è¡Œæ—¶é”™è¯¯ï¼ˆpanic!ï¼‰ã€‚
- è¶Šç•Œè®¿é—®ï¼šåœ¨ä½¿ç”¨æ•°ç»„æˆ– Vec çš„åˆ‡ç‰‡æ—¶ï¼Œè‹¥åˆ‡ç‰‡ç´¢å¼•è¶Šç•Œï¼ŒRust ä¼šå¼•å‘ panic!ã€‚

### 1.10.6 æ€»ç»“

- åˆ‡ç‰‡æ˜¯ä¸€ç§å¯¹æ•°ç»„ã€Vec æˆ– String çš„å¼•ç”¨ï¼Œä¸ä¼šæ‹¥æœ‰æ•°æ®ï¼Œä¸”å¯ä»¥æ˜¯ä¸å¯å˜æˆ–å¯å˜çš„ã€‚
- ä½¿ç”¨åˆ‡ç‰‡å¯ä»¥é¿å…å¤åˆ¶æ•°æ®ï¼ŒèŠ‚çœå†…å­˜å¼€é”€ï¼Œä¸”åˆ‡ç‰‡æ“ä½œçš„è¯­æ³•ç®€å•ã€‚
- å¤„ç†å­—ç¬¦ä¸²åˆ‡ç‰‡æ—¶è¦æ³¨æ„ Unicode å­—ç¬¦çš„è¾¹ç•Œï¼Œç¡®ä¿ä¸ä¼šè·¨è¶Šå­—ç¬¦çš„è¾¹ç•Œã€‚

&ensp; &ensp; &ensp;åˆ‡ç‰‡æ˜¯ Rust ä¸­éå¸¸å¼ºå¤§çš„å·¥å…·ï¼ŒæŒæ¡å®ƒå¯ä»¥ä½¿å¾—ä½ åœ¨è¿›è¡Œæ•°ç»„ã€å­—ç¬¦ä¸²ç­‰æ•°æ®å¤„ç†æ—¶æ›´åŠ é«˜æ•ˆã€‚

## 1.11 ç±»å‹åˆ«å(type)

&ensp; &ensp; &ensp;ä¸ C++ ä¸­çš„ typedef ç”¨æ³•ç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨ type å…³é”®å­—æ¥ä¸ºç°æœ‰ç±»å‹å£°æ˜ä¸€ä¸ªæ–°åç§°ï¼š

```
type Bytes = Vec<u8>;
//è¿™é‡Œå£°æ˜çš„ç±»å‹ Bytes å°±æ˜¯è¿™ç§ç‰¹å®š Vec çš„ç®€å†™å½¢å¼ã€‚
fn decode(data: &Bytes) {
...
}
```
# äºŒ.æ‰€æœ‰æƒæœºåˆ¶

&ensp; &ensp; &ensp;æ‰€æœ‰çš„ç¨‹åºéƒ½å¿…é¡»å’Œè®¡ç®—æœºå†…å­˜æ‰“äº¤é“ï¼Œå¦‚ä½•ä»å†…å­˜ä¸­ç”³è¯·ç©ºé—´æ¥å­˜æ”¾ç¨‹åºçš„è¿è¡Œå†…å®¹ï¼Œå¦‚ä½•åœ¨ä¸éœ€è¦çš„æ—¶å€™é‡Šæ”¾è¿™äº›ç©ºé—´ï¼Œæˆäº†é‡ä¸­ä¹‹é‡ï¼Œä¹Ÿæ˜¯æ‰€æœ‰ç¼–ç¨‹è¯­è¨€è®¾è®¡çš„éš¾ç‚¹ä¹‹ä¸€ã€‚åœ¨è®¡ç®—æœºè¯­è¨€ä¸æ–­æ¼”å˜è¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†ä¸‰ç§æµæ´¾ï¼š

- **åƒåœ¾å›æ”¶æœºåˆ¶(GC)**ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ä¸æ–­å¯»æ‰¾ä¸å†ä½¿ç”¨çš„å†…å­˜ï¼Œå…¸å‹ä»£è¡¨ï¼šJavaã€Go
- **æ‰‹åŠ¨ç®¡ç†å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾**, åœ¨ç¨‹åºä¸­ï¼Œé€šè¿‡å‡½æ•°è°ƒç”¨çš„æ–¹å¼æ¥ç”³è¯·å’Œé‡Šæ”¾å†…å­˜ï¼Œå…¸å‹ä»£è¡¨ï¼šC++
- **é€šè¿‡æ‰€æœ‰æƒæ¥ç®¡ç†å†…å­˜**ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šæ ¹æ®ä¸€ç³»åˆ—è§„åˆ™è¿›è¡Œæ£€æŸ¥ã€‚

&ensp; &ensp; &ensp;å…¶ä¸­ Rust é€‰æ‹©äº†ç¬¬ä¸‰ç§ï¼Œæœ€å¦™çš„æ˜¯ï¼Œè¿™ç§æ£€æŸ¥åªå‘ç”Ÿåœ¨ç¼–è¯‘æœŸï¼Œå› æ­¤å¯¹äºç¨‹åºè¿è¡ŒæœŸï¼Œä¸ä¼šæœ‰ä»»ä½•æ€§èƒ½ä¸Šçš„æŸå¤±ã€‚
## 2.1 æ‰€æœ‰æƒ

&ensp; &ensp; &ensp;å½“ä½ çš„ä»£ç è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ï¼ˆåŒ…æ‹¬å¯èƒ½æŒ‡å‘å †ä¸Šæ•°æ®çš„æŒ‡é’ˆå’Œå‡½æ•°çš„å±€éƒ¨å˜é‡ï¼‰ä¾æ¬¡è¢«å‹å…¥æ ˆä¸­ï¼Œå½“å‡½æ•°è°ƒç”¨ç»“æŸæ—¶ï¼Œè¿™äº›å€¼å°†è¢«ä»æ ˆä¸­æŒ‰ç…§ç›¸åçš„é¡ºåºä¾æ¬¡ç§»é™¤ã€‚

&ensp; &ensp; &ensp;å› ä¸ºå †ä¸Šçš„æ•°æ®ç¼ºä¹ç»„ç»‡ï¼Œå› æ­¤è·Ÿè¸ªè¿™äº›æ•°æ®ä½•æ—¶åˆ†é…å’Œé‡Šæ”¾æ˜¯éå¸¸é‡è¦çš„ï¼Œå¦åˆ™å †ä¸Šçš„æ•°æ®å°†äº§ç”Ÿå†…å­˜æ³„æ¼ â€”â€” è¿™äº›æ•°æ®å°†æ°¸è¿œæ— æ³•è¢«å›æ”¶ã€‚è¿™å°±æ˜¯ Rust æ‰€æœ‰æƒç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›çš„å¼ºå¤§ä¿éšœã€‚

&ensp; &ensp; &ensp;é€šè¿‡å†…å­˜ä¸Šçš„å…³ç³»æ¥è¿›ä¸€æ­¥è®¤è¯†â€œæ‰€æœ‰æƒâ€ï¼š

![|575](image/{{æ‰€æœ‰æƒ2.1}}-20241108.png)
```
fn print_padovan() {
    let mut padovan = vec![1,1,1];  // åœ¨æ­¤åˆ†é…
    for i in 3..10 {
        let next = padovan[i-3] + padovan[i-2];
        padovan.push(next);
    }
    println!("P(1..10) = {:?}", padovan);
}                                   // åœ¨æ­¤ä¸¢å¼ƒ
```
&ensp; &ensp; &ensp;è¯·æ³¨æ„ï¼Œä¿å­˜ padovan æŒ‡é’ˆã€å®¹é‡å’Œé•¿åº¦çš„å­—éƒ½ç›´æ¥ä½äºprint_padovan å‡½æ•°çš„æ ˆå¸§ä¸­ï¼Œåªæœ‰å‘é‡çš„ç¼“å†²åŒºæ‰åˆ†é…åœ¨å †ä¸Šã€‚

![|675](image/{{æ‰€æœ‰æƒ2.1}}-20241108-2.png)
```
struct Person { name: String, birth: i32 }
fn main(){
    let mut composers = Vec::new();
    
    composers.push(Person { name: "Palestrina".to_string(),birth: 1525 });
    composers.push(Person { name: "Dowland".to_string(), birth: 1563 });
    composers.push(Person { name: "Lully".to_string(), birth: 1632 });
    
    for composer in &composers {
        println!("{}, born {}", composer.name, composer.birth);
    }
}
```
&ensp; &ensp; &ensp;composers æ‹¥æœ‰ä¸€ä¸ªå‘é‡ï¼Œå‘é‡æ‹¥æœ‰è‡ªå·±çš„å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ª Person ç»“æ„ä½“ï¼Œæ¯ä¸ªç»“æ„ä½“éƒ½æ‹¥æœ‰è‡ªå·±çš„å­—æ®µï¼Œå¹¶ä¸”å­—ç¬¦ä¸²å­—æ®µæ‹¥æœ‰è‡ªå·±çš„æ–‡æœ¬ã€‚å½“æ§åˆ¶æµç¦»å¼€å£°æ˜ composers çš„ä½œç”¨åŸŸæ—¶ï¼Œç¨‹åºä¼šä¸¢å¼ƒè‡ªå·±çš„å€¼å¹¶å°†æ•´æ£µæ‰€æœ‰æƒæ ‘ä¸€èµ·ä¸¢å¼ƒã€‚

&ensp; &ensp; &ensp;æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ‹¥æœ‰è€…ï¼Œå› æ­¤å¾ˆå®¹æ˜“å†³å®šä½•æ—¶ä¸¢å¼ƒå®ƒã€‚Rust çš„å•ä¸€æ‹¥æœ‰è€…è§„åˆ™å°†ç¦æ­¢ä»»ä½•å¯èƒ½è®©å®ƒä»¬æ’åˆ—å¾—æ¯”æ ‘ç»“æ„æ›´å¤æ‚çš„å¯èƒ½æ€§ã€‚Rust ç¨‹åºä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æ˜¯æŸæ£µæ ‘çš„æˆå‘˜ï¼Œæ ‘æ ¹æ˜¯æŸä¸ªå˜é‡ã€‚

&ensp; &ensp; &ensp;åœ¨ Rust ä¸­ä¸¢å¼ƒä¸€ä¸ªå€¼çš„æ–¹å¼å°±æ˜¯ä»æ‰€æœ‰æƒæ ‘ä¸­ç§»é™¤å®ƒï¼šæˆ–è€…ç¦»å¼€å˜é‡çš„ä½œç”¨åŸŸï¼Œæˆ–è€…ä»å‘é‡ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œæˆ–è€…æ‰§è¡Œå…¶ä»–ç±»ä¼¼çš„æ“ä½œã€‚

&ensp; &ensp; &ensp;æ‰€æœ‰æƒçš„æ¦‚å¿µä»ç„¶è¿‡äºä¸¥æ ¼ï¼Œè¿˜å¤„ç†ä¸äº†æŸäº›åœºæ™¯ã€‚Rust ä»å‡ ä¸ªæ–¹é¢æ‰©å±•äº†è¿™ç§ç®€å•ç²—æš´çš„æ€æƒ³ã€‚

+ å¯ä»¥å°†å€¼ä»**ä¸€ä¸ªæ‹¥æœ‰è€…è½¬ç§»ç»™å¦ä¸€ä¸ªæ‹¥æœ‰è€…ï¼ˆç§»åŠ¨ï¼‰**ã€‚è¿™å…è®¸ä½ æ„å»ºã€é‡æ–°æ’åˆ—å’Œæ‹†é™¤æ ‘å½¢ç»“æ„ã€‚
+ åƒæ•´æ•°ã€æµ®ç‚¹æ•°å’Œå­—ç¬¦è¿™æ ·çš„éå¸¸ç®€å•çš„ç±»å‹ï¼Œä¸å—æ‰€æœ‰æƒè§„åˆ™çš„çº¦æŸã€‚è¿™äº›ç§°ä¸º **Copy ç±»å‹**ã€‚
 + æ ‡å‡†åº“æä¾›äº†å¼•ç”¨è®¡æ•°æŒ‡é’ˆç±»å‹ **Rc å’Œ Arc**ï¼Œå®ƒä»¬å…è®¸å€¼åœ¨æŸäº›é™åˆ¶ä¸‹æœ‰å¤šä¸ªæ‹¥æœ‰è€…ã€‚
+ å¯ä»¥å¯¹å€¼è¿›è¡Œâ€œ**å€Ÿç”¨â€ï¼ˆborrowï¼‰**ï¼Œä»¥è·å¾—å€¼çš„å¼•ç”¨ã€‚è¿™ç§å¼•ç”¨æ˜¯éæ‹¥æœ‰å‹æŒ‡é’ˆï¼Œæœ‰ç€å—é™çš„ç”Ÿå‘½å‘¨æœŸã€‚

&ensp; &ensp; &ensp;æ¯ä¸€ä¸ªç­–ç•¥éƒ½ä¸ºæ‰€æœ‰æƒæ¨¡å‹å¸¦æ¥äº†çµæ´»æ€§ï¼Œä½†åŒæ—¶ä»ç„¶åšæŒç€ Rust çš„é‚£äº›æ‰¿è¯ºã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä¾æ¬¡è§£é‡Šè¿™å‡ ç§æ–¹å¼ä¸­æ‰€æœ‰æƒçš„å˜åŒ–ï¼ˆçœ‹æ ‡é¢˜ï¼‰ã€‚
## 2.2 ç§»åŠ¨

&ensp; &ensp; &ensp;åœ¨ Rust ä¸­ï¼Œå¯¹å¤§å¤šæ•°ç±»å‹æ¥è¯´ï¼Œåƒä¸ºå˜é‡èµ‹å€¼ã€å°†å…¶ä¼ ç»™å‡½æ•°æˆ–ä»å‡½æ•°è¿”å›è¿™æ ·çš„æ“ä½œéƒ½ä¸ä¼šå¤åˆ¶å€¼ï¼Œè€Œæ˜¯ä¼šç§»åŠ¨å€¼ã€‚è¯´åˆ°å¤åˆ¶ï¼Œåœ¨C++ä¸­æœ‰è¿™æ ·çš„ä¸¤ä¸ªè¯ï¼šæµ…æ‹·è´ã€æ·±æ‹·è´ï¼Œæœ¬èº«å°±å­¦ä¹ è¿‡è¿™ä¸¤ä¸ªè¯çš„å«ä¹‰ï¼Œæˆ‘æƒ³æœ¬èŠ‚çš„å†…å®¹æ‰‹æ‹¿æ‰‹æã€‚

```
fn main(){
    let s = vec!["udon".to_string(), "ramen".to_string(), "soba".to_string()];
    let t = s;
    let u = s;
}
```

![|650](image/{{æ‰€æœ‰æƒ2.1}}-20241108-4.png)
&ensp; &ensp; &ensp;å¤§å¤šæ•°ç±»å‹çš„èµ‹å€¼ä¼šå°†å€¼ä»æºè½¬ç§»ç»™ç›®æ ‡ï¼Œè€Œæºä¼šå›åˆ°**æœªåˆå§‹åŒ–çŠ¶æ€ã€‚**
![|600](image/{{æ‰€æœ‰æƒ2.1}}-20241108-3.png)

&ensp; &ensp; &ensp;åˆå§‹åŒ–è¯­å¥ let t = s; å°†å‘é‡çš„ 3 ä¸ªæ ‡å¤´å­—æ®µä» s è½¬ç§»ç»™äº† tï¼Œç°åœ¨ t æ‹¥æœ‰æ­¤å‘é‡ã€‚å‘é‡çš„å…ƒç´ ä¿æŒåŸæ ·ï¼Œå­—ç¬¦ä¸²ä¹Ÿæ²¡æœ‰ä»»ä½•å˜åŒ–ã€‚æ¯ä¸ªå€¼ä¾ç„¶åªæœ‰ä¸€ä¸ªæ‹¥æœ‰è€…ï¼Œå°½ç®¡å…¶ä¸­ä¸€ä¸ªå·²ç„¶æ˜“æ‰‹ã€‚è¯‘å™¨ç°åœ¨ä¼šè®¤ä¸º s æ˜¯æœªåˆå§‹åŒ–çŠ¶æ€ã€‚

&ensp; &ensp; &ensp;æ‰§è¡Œåˆå§‹åŒ–è¯­å¥ let u = s; æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¼šå°†å°šæœªåˆå§‹åŒ–çš„
å€¼ s èµ‹ç»™ uã€‚Rust æ˜æ™ºåœ°ç¦æ­¢ä½¿ç”¨æœªåˆå§‹åŒ–çš„å€¼ï¼Œå› æ­¤ç¼–è¯‘å™¨ä¼šæ‹’ç»æ­¤ä»£ç å¹¶æŠ¥å‘Šã€‚

&ensp; &ensp; &ensp;å¦‚æœéœ€è¦åŒæ—¶è®¿é—®sï¼Œå°±å¿…é¡»**æ˜¾å¼åœ°è¦æ±‚å¤åˆ¶**ã€‚å¦‚æœæƒ³è¾¾åˆ°ä¸ C++ ç¨‹åºç›¸åŒçš„çŠ¶æ€ï¼ˆæ¯ä¸ªå˜é‡éƒ½ä¿å­˜ä¸€ä¸ªç‹¬ç«‹çš„ç»“æ„**å‰¯æœ¬**ï¼‰ï¼Œå°±å¿…é¡»è°ƒç”¨å‘é‡çš„ clone æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šæ‰§è¡Œå‘é‡åŠå…¶å…ƒç´ çš„**æ·±æ‹·è´**ï¼š
```
fn main(){
    let s = vec!["udon".to_string(), "ramen".to_string(), "soba".to_string()];
    let t = s.clone();
    let u = s.clone();
}
```

### 2.2.1 ç§»åŠ¨çš„å‘ç”Ÿ

1. åˆå§‹åŒ–ä¸èµ‹å€¼ï¼š(ä¹¦ä¸Šè¿™éƒ¨åˆ†å†…å®¹æœ‰é—®é¢˜4.2.1ç« èŠ‚ï¼Œæˆ‘è§‰å¾—)

- åˆå§‹åŒ–ï¼šå˜é‡ç¬¬ä¸€æ¬¡èµ‹å€¼ï¼Œèµ‹äºˆå…¶åˆå§‹å€¼ï¼Œä½¿å˜é‡å˜ä¸ºæœ‰æ•ˆçŠ¶æ€(æ²¡æœ‰ç»è¿‡åˆå§‹åŒ–çš„å˜é‡åœ¨ Rust ä¸­æ˜¯æ— æ³•ä½¿ç”¨çš„)ã€‚
- èµ‹å€¼ï¼šå¯¹å·²åˆå§‹åŒ–çš„å˜é‡é‡æ–°èµ‹å€¼ï¼Œè¦†ç›–åŸæ¥çš„å†…å®¹ï¼Œä¸”è‡ªåŠ¨é‡Šæ”¾æ—§å€¼çš„å†…å­˜ã€‚

&ensp; &ensp; &ensp;åœ¨å˜é‡è¿›å…¥ let è¯­å¥çš„ä½œç”¨åŸŸæ—¶ä¸ºå®ƒä»¬æä¾›å€¼ã€‚**å˜é‡èµ‹å€¼**åˆ™ä¸æ­¤ç•¥æœ‰ä¸åŒï¼Œå¦‚æœä½ å°†ä¸€ä¸ªå€¼è½¬ç§»ç»™å·²åˆå§‹åŒ–çš„å˜é‡ï¼Œé‚£ä¹ˆ Rust å°±ä¼šä¸¢å¼ƒè¯¥å˜é‡çš„å…ˆå‰å€¼ã€‚

```
fn main(){
    let mut s = "Govinda".to_string();
    s = "Siddhartha".to_string(); // åœ¨è¿™é‡Œä¸¢å¼ƒäº†å€¼"Govinda"
}
```

![|725](image/{{æ‰€æœ‰æƒ2.1}}-20241108-5.png)

&ensp; &ensp; &ensp;ä¹¦ä¸­çš„è¿™éƒ¨åˆ†å†…å®¹ï¼Œä¸ªäººè§‰å¾—æœ‰é—®é¢˜ã€‚ä¸ä¸¢å¼ƒä¸å°±å†…å­˜æ³„æ¼äº†ï¼Œé‚£è¿˜ç©ä»€ä¹ˆï¼Ÿè¿è¡Œç»“æœä¹Ÿæ˜¾ç¤ºè¿™ä¸ªåœ°æ–¹ä¼šæŠŠåŸæ¥çš„å†…å®¹ï¼ˆâ€œGovindaâ€ï¼‰ä¸¢å¼ƒ   è¿™ä¸ªå°±æ˜¯è¦†ç›–èµ‹å€¼å•Šï¼

&ensp; &ensp; &ensp;è¿™ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼Œä¸è¦ä»¥ä¸ºsçš„æ‰€æœ‰æƒè½¬ç§»åï¼Œä½ å°±ç”¨ä¸äº†säº†ã€‚é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ç”¨ä¸äº†så‘¢ï¼Ÿ-->**ä½œç”¨åŸŸçš„ç»“æŸ**

&ensp; &ensp; &ensp;Rust è¿˜å°†â€œç§»åŠ¨â€çš„è¯­ä¹‰åº”ç”¨åˆ°äº†å‡ ä¹æ‰€æœ‰å¯¹å€¼çš„ä½¿ç”¨ä¸Šã€‚ä¾‹å¦‚ï¼Œå°†å‚æ•°ä¼ ç»™å‡½æ•°ä¼šå°†æ‰€æœ‰æƒè½¬ç§»ç»™å‡½æ•°çš„å‚æ•°ã€ä»å‡½æ•°è¿”å›ä¸€ä¸ªå€¼ä¼šå°†æ‰€æœ‰æƒè½¬ç§»ç»™è°ƒç”¨è€…ã€æ„å»ºå…ƒç»„ä¼šå°†å€¼è½¬ç§»ç»™å…ƒç»„ã€‚
```
struct Person { name: String, birth: i32 }
fn main(){
    let mut composers = Vec::new();
    composers.push(Person { name: "Palestrina".to_string(),birth: 1525 }); 
}
```
&ensp; &ensp; &ensp;ä¸‹é¢çš„åˆ†æåŸºäºæ­¤æ®µä»£ç ã€‚

2. å‡½æ•°è¿”å›å€¼

&ensp; &ensp; &ensp;Vec::new() æ„é€ ä¸€ä¸ªæ–°å‘é‡å¹¶è¿”å›ï¼Œè¿”å›çš„ä¸æ˜¯æŒ‡å‘æ­¤å‘é‡çš„æŒ‡é’ˆï¼Œè€Œæ˜¯å‘é‡æœ¬èº«ï¼šå®ƒçš„æ‰€æœ‰æƒä» Vec::new è½¬ç§»ç»™äº†å˜é‡ composersã€‚åŒæ ·ï¼Œto_string è°ƒç”¨è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„ String å®ä¾‹ã€‚

3. æ„é€ å‡ºæ–°å€¼

&ensp; &ensp; &ensp;æ–° Person ç»“æ„ä½“çš„ name å­—æ®µæ˜¯ç”¨ to_string çš„è¿”å›å€¼åˆå§‹åŒ–çš„ã€‚è¯¥ç»“æ„ä½“æ‹¥æœ‰è¿™ä¸ªå­—ç¬¦ä¸²çš„æ‰€æœ‰æƒã€‚

4. å°†å€¼ä¼ ç»™å‡½æ•°

&ensp; &ensp; &ensp;æ•´ä¸ª Person ç»“æ„ä½“ï¼ˆä¸æ˜¯æŒ‡å‘å®ƒçš„æŒ‡é’ˆï¼‰è¢«ä¼ ç»™äº†å‘é‡çš„ push æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¼šå°†è¯¥ç»“æ„ä½“ç§»åŠ¨åˆ°å‘é‡çš„æœ«å°¾ã€‚å‘é‡æ¥ç®¡äº† Person çš„æ‰€æœ‰æƒï¼Œå› æ­¤ä¹Ÿé—´æ¥æ¥æ‰‹äº†name è¿™ä¸ª String çš„æ‰€æœ‰æƒã€‚

&ensp; &ensp; &ensp;ç§»åŠ¨çš„æ°¸è¿œæ˜¯å€¼æœ¬èº«ï¼Œè€Œä¸æ˜¯è¿™äº›å€¼æ‹¥æœ‰çš„å †å­˜å‚¨ã€‚å¯¹äºå‘é‡å’Œå­—ç¬¦ä¸²ï¼Œå€¼æœ¬èº«å°±æ˜¯æŒ‡å•ç‹¬çš„â€œä¸‰å­—æ ‡å¤´â€(å¯¹å†…å­˜çš„åœ°å€ï¼Œå®¹é‡ï¼Œå½“å‰é•¿åº¦)ã€‚

### 2.2.2 ç§»åŠ¨ä¸æ§åˆ¶æµ

&ensp; &ensp; &ensp;å‰é¢çš„ä¾‹å­ä¸­éƒ½æœ‰éå¸¸ç®€å•çš„æ§åˆ¶æµï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•åœ¨æ›´å¤æ‚çš„ä»£ç ä¸­ç§»åŠ¨å‘¢ï¼Ÿä¸€èˆ¬æ€§åŸåˆ™æ˜¯ï¼Œå¦‚æœä¸€ä¸ªå˜é‡çš„å€¼æœ‰å¯èƒ½å·²ç»ç§»èµ°ï¼Œå¹¶ä¸”ä»é‚£ä»¥åå°šæœªæ˜ç¡®èµ‹äºˆå…¶æ–°å€¼ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥è¢«çœ‹ä½œæ˜¯æœªåˆå§‹åŒ–çŠ¶æ€ã€‚rustç¦æ­¢ä¸èƒ½ç›´æ¥ä½¿ç”¨æœªåˆå§‹åŒ–çš„å˜é‡ã€‚

```
    let x = vec![10, 20, 30];
    if c {
        f(x); // â€¦â€¦å¯ä»¥åœ¨è¿™é‡Œç§»åŠ¨x
    } else {
        g(x); // â€¦â€¦ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œç§»åŠ¨x
    }
    h(x); // é”™è¯¯ï¼šåªè¦ä»»ä½•ä¸€æ¡è·¯å¾„ç”¨è¿‡å®ƒï¼Œxåœ¨è¿™é‡Œå°±æ˜¯æœªåˆå§‹åŒ–çŠ¶æ€
```

&ensp; &ensp; &ensp;ç¦æ­¢åœ¨å¾ªç¯ä¸­è¿›è¡Œå˜é‡ç§»åŠ¨:

```
let x = vec![10, 20, 30];
while f() {
    g(x); // é”™è¯¯ï¼šxå·²ç»åœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ç§»åŠ¨å‡ºå»äº†ï¼Œåœ¨ç¬¬äºŒæ¬¡è¿­ä»£ä¸­ï¼Œå®ƒæˆäº†æœªåˆå§‹åŒ–çŠ¶æ€
}
```

&ensp; &ensp; &ensp;ä¹Ÿå°±æ˜¯è¯´ï¼Œé™¤éåœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­æ˜ç¡®èµ‹äºˆ x ä¸€ä¸ªæ–°å€¼ï¼Œå¦åˆ™å°±ä¼šå‡ºé”™ã€‚
```
let mut x = vec![10, 20, 30];
while f() {
    g(x);           // ä»xç§»åŠ¨å‡ºå»äº†
    x = h();        // èµ‹äºˆxä¸€ä¸ªæ–°å€¼
}
e(x);
```

### 2.2.3 ç§»åŠ¨ä¸ç´¢å¼•å†…å®¹

&ensp; &ensp; &ensp;ç§»åŠ¨ä¼šä»¤å…¶æ¥æºå˜æˆæœªåˆå§‹åŒ–çŠ¶æ€ï¼Œå› ä¸ºç›®æ ‡å°†è·å¾—è¯¥å€¼çš„æ‰€æœ‰æƒã€‚ä½†å¹¶éå€¼çš„æ¯ç§æ‹¥æœ‰è€…éƒ½èƒ½å˜æˆæœªåˆå§‹åŒ–çŠ¶æ€ï¼ˆæ‹¿ä¸èµ°æ‰€æœ‰æƒï¼‰ã€‚

```
// æ„å»ºä¸€ä¸ªç”±å­—ç¬¦ä¸²"101"ã€"102"â€¦â€¦"105"ç»„æˆçš„å‘é‡
let mut v = Vec::new();
for i in 101 .. 106 {
    v.push(i.to_string());
}
// ä»å‘é‡ä¸­éšæœºæŠ½å–å…ƒç´ 
let third = v[2]; // é”™è¯¯ï¼šä¸èƒ½ç§»åŠ¨åˆ°Vecç´¢å¼•ç»“æ„ä¹‹å¤–3
let fifth = v[4]; // è¿™é‡Œä¹Ÿä¸€æ ·
```

&ensp; &ensp; &ensp;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒRust éœ€è¦ä»¥æŸç§æ–¹å¼è®°ä½å‘é‡çš„ç¬¬ä¸‰ä¸ªå…ƒç´ å’Œç¬¬äº”ä¸ªå…ƒç´ æ˜¯æœªåˆå§‹åŒ–çŠ¶æ€ï¼Œç”¨é¢å¤–çš„é¢æ ‡è®°æ¥è¡¨ç¤ºæœªåˆå§‹åŒ–çŠ¶æ€å—ï¼Ÿé‚£å¼€é”€å¯å¤§äº†å»äº†ï¼Œä¸åˆ’ç®—ã€‚

&ensp; &ensp; &ensp;ç¼–è¯‘å™¨ä¼šå»ºè®®ä½¿ç”¨å¼•ç”¨ï¼Œå› ä¸ºä½ å¯èƒ½åªæ˜¯æƒ³è®¿é—®è¯¥å…ƒç´ è€Œä¸æ˜¯ç§»åŠ¨å®ƒï¼Œè¿™ç¡®å®é€šå¸¸ç¡®å®æ˜¯ä½ æƒ³è¦åšçš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœçœŸæƒ³å°†ä¸€ä¸ªå…ƒç´ ç§»å‡ºå‘é‡è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ

&ensp; &ensp; &ensp;æˆ‘ä»¬å¯ä»¥é€šè¿‡å¡«å……æ¥è§£å†³ï¼š

```
fn main(){
    // æ„å»ºä¸€ä¸ªç”±å­—ç¬¦ä¸²"101"ã€"102"â€¦â€¦"105"ç»„æˆçš„å‘é‡
    let mut v = Vec::new();
    for i in 101 .. 106 {
        v.push(i.to_string());
    }
    // æ–¹æ³•ä¸€ï¼šä»å‘é‡çš„æœ«å°¾å¼¹å‡ºä¸€ä¸ªå€¼ï¼š
    let fifth = v.pop().expect("vector empty!");
    assert_eq!(fifth, "105");
    
    // æ–¹æ³•äºŒï¼šå°†å‘é‡ä¸­æŒ‡å®šç´¢å¼•å¤„çš„å€¼ä¸æœ€åä¸€ä¸ªå€¼äº’æ¢ï¼Œå¹¶æŠŠå‰è€…ç§»åŠ¨å‡ºæ¥ï¼š
    let second = v.swap_remove(1);
    assert_eq!(second, "102");
    
    // æ–¹æ³•ä¸‰ï¼šæŠŠè¦å–å‡ºçš„å€¼å’Œå¦ä¸€ä¸ªå€¼äº’æ¢ï¼š
    let third = std::mem::replace(&mut v[2], "substitute".to_string());
    assert_eq!(third, "103");
    
    // çœ‹çœ‹å‘é‡ä¸­è¿˜å‰©ä¸‹ä»€ä¹ˆ
    assert_eq!(v, vec!["101", "104", "substitute"]);
}
```

&ensp; &ensp; &ensp;åƒ Vec è¿™æ ·çš„é›†åˆç±»å‹é€šå¸¸ä¹Ÿä¼šæä¾›åœ¨å¾ªç¯ä¸­æ¶ˆè€—æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•ï¼š
```
let v = vec!["libertÃ©".to_string(),
                 "Ã©galitÃ©".to_string(),
                 "fraternitÃ©".to_string()];
    for mut s in v {
        s.push('!');
        println!("{}", s);
    }
```

&ensp; &ensp; &ensp;å½“æˆ‘ä»¬å°†å‘é‡ç›´æ¥ä¼ ç»™å¾ªç¯ï¼ˆå¦‚ for ... in vï¼‰æ—¶ï¼Œä¼šå°†å‘é‡ä» v ä¸­ç§»åŠ¨å‡ºå»ï¼Œè®© v å˜æˆæœªåˆå§‹åŒ–çŠ¶æ€ã€‚for å¾ªç¯çš„å†…éƒ¨æœºåˆ¶ä¼šè·å–å‘é‡çš„æ‰€æœ‰æƒå¹¶å°†å…¶åˆ†è§£ä¸ºå…ƒç´ ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œå¾ªç¯éƒ½ä¼šå°†å¦ä¸€ä¸ªå…ƒç´ è½¬ç§»ç»™å˜é‡ sã€‚ (forå¯¹vecè¯´: æˆ‘å…¨éƒ¨æ‹¿èµ°ç”¨äº†ï¼Œä¸€ä¼šå…¨éƒ¨è¿˜ç»™ä½ ï¼Œä½†æ˜¯ä½ ä¸èƒ½è®©åˆ«äººåœ¨ç”¨äº†ã€‚ï¼‰

&ensp; &ensp; &ensp;å¦‚æœéœ€è¦ä»æ‹¥æœ‰è€…ä¸­ç§»å‡ºä¸€ä¸ªç¼–è¯‘å™¨æ— æ³•è·Ÿè¸ªçš„å€¼ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘å°†æ‹¥æœ‰è€…çš„ç±»å‹æ›´æ”¹ä¸ºèƒ½åŠ¨æ€è·Ÿè¸ªè‡ªå·±æ˜¯å¦æœ‰å€¼çš„ç±»å‹ã€‚

```
struct Person { name: Option<String>, birth: i32 }
let mut composers = Vec::new();
composers.push(Person { name: Some("Palestrina".to_string()),
                        birth: 1525 });
```

&ensp; &ensp; &ensp;ä¸èƒ½è¿™æ ·åšï¼š`let first_name = composers[0].name;`

&ensp; &ensp; &ensp;è¿™åªä¼šå¼•å‘ä¸å‰é¢ä¸€æ ·çš„â€œæ— æ³•ç§»åŠ¨åˆ°ç´¢å¼•ç»“æ„ä¹‹å¤–â€é”™è¯¯ã€‚ä½†æ˜¯å› ä¸ºå·²å°† nameå­—æ®µçš„ç±»å‹ä» String æ”¹æˆäº† Option\<String>ï¼Œæ‰€ä»¥è¿™æ„å‘³ç€ None ä¹Ÿæ˜¯è¯¥å­—æ®µè¦ä¿å­˜çš„åˆæ³•å€¼ã€‚å› æ­¤ï¼Œå¯ä»¥replaceï¼š
```
let first_name = std::mem::replace(&mut composers[0].name, None);

assert_eq!(first_name, Some("Palestrina".to_string()));
assert_eq!(composers[0].name, None);
```

&ensp; &ensp; &ensp;replace è°ƒç”¨ä¼šç§»å‡º composers\[0].name çš„å€¼ï¼Œå°† None ç•™åœ¨åŸå¤„ï¼Œå¹¶å°†åŸå§‹å€¼çš„æ‰€æœ‰æƒè½¬ç§»ç»™å…¶è°ƒç”¨è€…ã€‚äº‹å®ä¸Šï¼Œè¿™ç§ä½¿ç”¨ Option çš„æ–¹å¼éå¸¸æ™®éï¼Œæ‰€ä»¥è¯¥ç±»å‹ä¸“é—¨ä¸ºæ­¤æä¾›äº†ä¸€ä¸ª take æ–¹æ³•ï¼Œä»¥ä¾¿æ›´æ¸…æ™°åœ°å†™å‡ºä¸Šè¿°æ“ä½œ

`let first_name = composers[0].name.take();`


## 2.3 Copy ç±»å‹

&ensp; &ensp; &ensp;ç§»åŠ¨èƒ½è®©è¿™äº›ç±»å‹çš„æ‰€æœ‰æƒæ¸…æ™°ä¸”èµ‹å€¼å¼€é”€æä½ã€‚ä½†å¯¹äºåƒæ•´
æ•°æˆ–å­—ç¬¦è¿™æ ·çš„ç®€å•ç±»å‹ï¼Œå¦‚æ­¤è°¨å°æ…å¾®çš„å¤„ç†æ–¹å¼haveå¿…è¦?

&ensp; &ensp; &ensp;åœ¨Rustä¸­String è¿›è¡Œèµ‹å€¼å’Œç”¨ i32 è¿›è¡Œèµ‹å€¼æ—¶å†…å­˜ä¸­æœ‰ä»€ä¹ˆä¸åŒï¼š
```
fn main(){
    let string1 = "somnambulance".to_string();
    let string2 = string1;
    
    let num1: i32 = 36;
    let num2 = num1;
}
```

![|650](image/{{æ‰€æœ‰æƒ2.1}}-20241108-6.png)




















